{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://humanity-theme/./node_modules/desandro-matches-selector/matches-selector.js","webpack://humanity-theme/./src/scripts/modules/Expose.js","webpack://humanity-theme/./src/scripts/utils/dom.js","webpack://humanity-theme/./src/scripts/modules/overlays.js","webpack://humanity-theme/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://humanity-theme/./src/scripts/modules/pop-in.js","webpack://humanity-theme/./src/scripts/modules/fluid-text.js","webpack://humanity-theme/./src/scripts/modules/language-selector.js","webpack://humanity-theme/./src/scripts/modules/header.js","webpack://humanity-theme/./src/scripts/modules/navigation.js","webpack://humanity-theme/./src/scripts/modules/subcategory-dropdown.js","webpack://humanity-theme/./src/scripts/utils/keyboard.js","webpack://humanity-theme/./src/scripts/utils/list-search.js","webpack://humanity-theme/./src/scripts/modules/checkbox-group.js","webpack://humanity-theme/./src/scripts/utils/url.js","webpack://humanity-theme/./src/scripts/modules/latest-filters.js","webpack://humanity-theme/./src/scripts/utils/form-data.js","webpack://humanity-theme/./src/scripts/modules/search-filters.js","webpack://humanity-theme/./src/scripts/modules/filter-posts.js","webpack://humanity-theme/./src/scripts/modules/video-loaded.js","webpack://humanity-theme/./src/scripts/modules/fluid-iframe.js","webpack://humanity-theme/./src/scripts/modules/tweet-action.js","webpack://humanity-theme/./src/scripts/modules/category-slider.js","webpack://humanity-theme/./src/scripts/modules/slider-block.js","webpack://humanity-theme/./src/scripts/modules/counter.js","webpack://humanity-theme/./src/scripts/modules/term-list.js","webpack://humanity-theme/external var \"wp.i18n\"","webpack://humanity-theme/./src/scripts/modules/countdownTimer.js","webpack://humanity-theme/./src/scripts/modules/tabbed-nav.js","webpack://humanity-theme/./src/scripts/modules/browser-detector.js","webpack://humanity-theme/./src/scripts/modules/author-bio-toggle.js","webpack://humanity-theme/./src/scripts/modules/iframe-button.js","webpack://humanity-theme/./src/scripts/modules/collapsable-block.js","webpack://humanity-theme/./src/scripts/modules/tabbed-content-flickity.js","webpack://humanity-theme/./src/scripts/modules/download-block.js","webpack://humanity-theme/./src/scripts/App.js","webpack://humanity-theme/./node_modules/ev-emitter/ev-emitter.js","webpack://humanity-theme/./src/scripts/App-exposed.js","webpack://humanity-theme/./node_modules/expose-loader/dist/runtime/getGlobalThis.js","webpack://humanity-theme/./node_modules/fizzy-ui-utils/utils.js","webpack://humanity-theme/./node_modules/flickity-as-nav-for/as-nav-for.js","webpack://humanity-theme/./node_modules/flickity/js/add-remove-cell.js","webpack://humanity-theme/./node_modules/flickity/js/animate.js","webpack://humanity-theme/./node_modules/flickity/js/cell.js","webpack://humanity-theme/./node_modules/flickity/js/drag.js","webpack://humanity-theme/./node_modules/flickity/js/flickity.js","webpack://humanity-theme/./node_modules/flickity/js/index.js","webpack://humanity-theme/./node_modules/flickity/js/lazyload.js","webpack://humanity-theme/./node_modules/flickity/js/page-dots.js","webpack://humanity-theme/./node_modules/flickity/js/player.js","webpack://humanity-theme/./node_modules/flickity/js/prev-next-button.js","webpack://humanity-theme/./node_modules/flickity/js/slide.js","webpack://humanity-theme/./node_modules/get-size/get-size.js","webpack://humanity-theme/./node_modules/intersection-observer/intersection-observer.js","webpack://humanity-theme/./node_modules/unidragger/unidragger.js","webpack://humanity-theme/./node_modules/unipointer/unipointer.js","webpack://humanity-theme/webpack/bootstrap","webpack://humanity-theme/webpack/runtime/compat get default export","webpack://humanity-theme/webpack/runtime/define property getters","webpack://humanity-theme/webpack/runtime/global","webpack://humanity-theme/webpack/runtime/hasOwnProperty shorthand","webpack://humanity-theme/webpack/runtime/make namespace object","webpack://humanity-theme/webpack/startup"],"sourcesContent":["/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/* eslint-disable no-console */\n/**\n * Expose functions/modules to be used with the `.using()` method on App\n * to conditionally run functions/modules if they are page dependant.\n *\n * @param {Object} fns - Exposed functions\n */\nfunction expose(fns = {}) {\n  function using(fnName, ...args) {\n    if (Array.isArray(fnName)) {\n      fnName.map((fn) => {\n        let fnArgs = args;\n        let func = fn;\n\n        if (Array.isArray(func)) {\n          [func, ...fnArgs] = func;\n        }\n\n        return using(func, ...fnArgs);\n      });\n\n      return { using };\n    }\n\n    if (fns[fnName]) {\n      fns[fnName](...args);\n    } else {\n      throw new Error(`The module \\`${fnName}\\` does not exist, or is not exposed for using.`);\n    }\n\n    return this;\n  }\n\n  return using;\n}\n\nexport default expose;\n","// find an element's target element\nexport const findTarget = (element, attribute = 'toggle') => {\n  const selector = element.dataset[attribute];\n  let target;\n\n  if (selector.indexOf('^') === 0) {\n    target = element.parentElement;\n\n    if (selector === '^parent') {\n      return target;\n    }\n\n    if (selector === 'self') {\n      return element;\n    }\n\n    return target.querySelector(selector.replace(/^\\^/, ''));\n  }\n\n  return document.querySelector(selector);\n};\n\n// hide/show element\nexport const toggleElementVisibility = (element) => {\n  // toggle active class name\n  element.classList.toggle('is-open');\n  const isOpen = element.classList.contains('is-open');\n\n  if (element.getAttribute('tabindex') !== null) {\n    element.setAttribute('tabindex', isOpen ? '0' : '-1');\n  }\n\n  if (element.getAttribute('aria-hidden') !== null) {\n    element.setAttribute('aria-hidden', isOpen ? 'false' : 'true');\n  }\n\n  if (element.getAttribute('aria-expanded') !== null) {\n    element.setAttribute('aria-expanded', isOpen ? 'true' : 'false');\n  }\n\n  if (element.style.visibility !== '') {\n    // eslint-disable-next-line no-param-reassign\n    element.style.visibility = isOpen ? 'visible' : 'hidden';\n  }\n\n  const focusableChildren = Array.from(element.querySelectorAll('[tabindex]'));\n\n  if (isOpen) {\n    focusableChildren.forEach((el) => el.setAttribute('tabindex', '0'));\n  } else {\n    focusableChildren.forEach((el) => el.setAttribute('tabindex', '-1'));\n  }\n\n  // target has descendent with autofocus\n  if (element.dataset.autofocus) {\n    const focusInto = element.querySelector(element.dataset.autofocus);\n\n    // found autofocus target\n    if (focusInto) {\n      setTimeout(() => focusInto.focus({ preventScroll: true }), 0);\n    }\n  }\n};\n\nexport const hasOpenOrActiveItems = (cname = '') =>\n  cname.indexOf('-open') !== -1 || cname.indexOf('-active') !== -1;\n\nexport default {\n  findTarget,\n  hasOpenOrActiveItems,\n  toggleElementVisibility,\n};\n","import { findTarget, hasOpenOrActiveItems, toggleElementVisibility } from '../utils/dom';\n\nconst html = document.documentElement;\nconst classCache = html.className;\nconst scrollbarWidth = window.innerWidth - html.offsetWidth;\nlet scrollPos = 0;\nlet togglableElements;\n\n// pad the document when something is open, to prevent\n// reflow from scrollbar visibility change\nconst setDocumentPadding = () => {\n  if (hasOpenOrActiveItems(html.className)) {\n    document.body.style.paddingRight = `${scrollbarWidth}px`;\n  } else {\n    document.body.style.paddingRight = '';\n  }\n};\n\n// toggle element visibility on trigger clicks\nconst triggerToggle = (event) => {\n  const { state, self } = event.target.dataset;\n  const element = findTarget(event.target);\n\n  // no target element\n  if (!element) {\n    return;\n  }\n\n  event.preventDefault();\n\n  // set class on event target\n  if (self) {\n    event.target.classList.toggle(self);\n  }\n\n  toggleElementVisibility(element);\n\n  // set state on html\n  if (state) {\n    html.classList.toggle(state);\n  }\n};\n\n// dispatch click target changes\nconst handleClickEvents = (event) => {\n  const { target } = event;\n  const { dataset } = target;\n\n  // click event is on a toggle\n  if (dataset.toggle) {\n    // no state set on html\n    if (html.className === classCache) {\n      scrollPos = html.scrollTop;\n    }\n\n    triggerToggle(event);\n\n    if (html.className === classCache) {\n      html.scrollTop = scrollPos;\n    }\n  }\n\n  // it's on the background overlay (something is open in front)\n  if (target.classList.contains('overlay')) {\n    html.setAttribute('class', classCache);\n    // close any open items\n    togglableElements.forEach((elem) => {\n      const tmpTarget = findTarget(elem);\n\n      if (!tmpTarget || !tmpTarget.classList.contains('is-open')) {\n        return;\n      }\n\n      toggleElementVisibility(tmpTarget);\n    });\n  }\n\n  setDocumentPadding();\n};\n\n// collapse open items when escape key is pressed\nconst handleKeyEvents = (event) => {\n  const { code } = event;\n\n  // remove all stateful classes from the document\n  if (['Esc', 'Escape'].indexOf(code) !== -1) {\n    html.setAttribute('class', classCache);\n    setDocumentPadding();\n  }\n};\n\nconst init = () => {\n  togglableElements = Array.from(html.querySelectorAll('[data-toggle]'));\n\n  html.addEventListener('click', handleClickEvents);\n  html.addEventListener('keydown', handleKeyEvents);\n};\n\nexport default init;\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import Cookies from 'js-cookie';\n\nconst { delay } = lodash;\n\nlet globalData;\n\nconst hidePopIn = (element) => {\n  const parent = element.parentElement;\n  parent.parentElement.removeChild(parent);\n};\n\nconst showPopIn = (element) => {\n  element.parentElement.setAttribute('aria-hidden', 'false');\n  element.parentElement.classList.remove('is-closed');\n};\n\nconst closePopIn = (event) => {\n  event.preventDefault();\n\n  hidePopIn(event.target);\n\n  Cookies.set('amnesty_pop_in_dismissed', '1', {\n    domain: globalData.domain,\n    expires: parseInt(globalData.pop_in_timeout, 10) || 30,\n    sameSite: 'strict',\n    secure: true,\n  });\n};\n\nexport default function popIn() {\n  const close = document.getElementById('pop-in-close');\n  if (!close) {\n    return;\n  }\n\n  globalData = window.amnesty_data;\n\n  if (Cookies.get('amnesty_pop_in_dismissed') === '1') {\n    hidePopIn(close);\n    return;\n  }\n\n  delay(showPopIn, 100, close);\n\n  close.addEventListener('click', closePopIn);\n  close.addEventListener('touchend', closePopIn);\n}\n","const getFontSize = (el) => parseFloat(getComputedStyle(el).fontSize.replace(/[^0-9.]+/, ''));\n\nconst adjust = (element, multiplier = 1) => {\n  const initialSize = getFontSize(element);\n  const availableWidth = element.clientWidth;\n  const overflowWidth = element.scrollWidth;\n\n  // don't need to adjust\n  if (overflowWidth <= availableWidth) {\n    return;\n  }\n\n  let adjustedSize = Math.floor(initialSize / (overflowWidth / availableWidth));\n\n  if (multiplier !== 1) {\n    adjustedSize *= multiplier;\n  }\n\n  // eslint-disable-next-line\n  element.style.fontSize = `${adjustedSize}px`;\n};\n\nexport default function fluidText(elements, multiplier) {\n  Array.from(elements).forEach((element) => {\n    const initialSize = getFontSize(element);\n    let resizing;\n\n    window.addEventListener('resize', () => {\n      clearTimeout(resizing);\n      resizing = setTimeout(() => {\n        // restore initial font size to recompute for new client width\n        if (getFontSize(element) < initialSize) {\n          // eslint-disable-next-line\n          element.style.fontSize = `${initialSize}px`;\n        }\n\n        adjust(element, multiplier);\n      }, 250);\n    });\n\n    adjust(element, multiplier);\n  });\n}\n","const DISMISSED_KEY = 'language-selector-dismissed';\n\nconst dismissSelector = (event) => {\n  event.preventDefault();\n  const selector = document.querySelector('.language-selector');\n\n  if (!selector) {\n    return;\n  }\n\n  selector.classList.remove('is-visible');\n\n  if (!window.localStorage) {\n    return;\n  }\n\n  window.localStorage.setItem(DISMISSED_KEY, '1');\n};\n\nconst init = () => {\n  if (window.localStorage && window.localStorage.getItem(DISMISSED_KEY)) {\n    return;\n  }\n\n  const selector = document.querySelector('.language-selector');\n\n  if (!selector) {\n    return;\n  }\n\n  selector.classList.add('is-visible');\n\n  const closeButton = selector.querySelector('.language-selectorClose');\n\n  if (!closeButton) {\n    return;\n  }\n\n  closeButton.addEventListener('click', dismissSelector);\n};\n\nexport default init;\n","let header;\n\n// previous scrollY cache\nlet previousKnown = 0;\n// toggle sticky class on header\nconst maybeStick = (position) => {\n  // do nothing\n  if (position === previousKnown) {\n    return;\n  }\n\n  // don't interfere with stateful changes\n  if (document.documentElement.className.indexOf('-open') !== -1) {\n    return;\n  }\n\n  // we're at the top\n  if (position === 0) {\n    header.classList.remove('stick');\n    return;\n  }\n\n  if (position > previousKnown) {\n    // scrolling down, unstick\n    header.classList.remove('stick');\n  } else {\n    // scrolling up, stick\n    header.classList.add('stick');\n  }\n\n  previousKnown = position;\n};\n\n// scroll handler values cache\nlet lastKnown = 0;\nlet ticking = false;\n\nconst handleScrollEvents = () => {\n  lastKnown = window.scrollY;\n\n  if (!ticking) {\n    window.requestAnimationFrame(() => {\n      maybeStick(lastKnown);\n      ticking = false;\n    });\n\n    ticking = true;\n  }\n};\n\nconst init = () => {\n  header = document.querySelector('.page-header');\n\n  if (!header) {\n    return;\n  }\n\n  document.addEventListener('scroll', handleScrollEvents);\n};\n\nexport default init;\n","let pageHeader;\nlet menuToggle;\nlet mobileMenu;\nlet subMenus = [];\n\n// if menu has lost focus inadvertently, restore it\nconst setupFocusTrap = () => {\n  const lastMenuItem = pageHeader.querySelector('.mobile-menu > ul > li:last-of-type');\n  const menuItemClassList = `.${Array.from(lastMenuItem.classList).join('.')}`;\n  let previousFocus;\n\n  mobileMenu.addEventListener('focusout', (event) => {\n    previousFocus = event.target;\n  });\n\n  document.addEventListener('focusin', (event) => {\n    const closestMenuItemToPrevious = previousFocus?.closest(menuItemClassList);\n    const originWasLastItem = previousFocus === lastMenuItem.firstElementChild;\n    const originWasChildOfLastItem = closestMenuItemToPrevious === lastMenuItem;\n\n    // previous element wasn't in the mobile nav, or wasn't the last item in it\n    if (!originWasLastItem && !originWasChildOfLastItem) {\n      return;\n    }\n\n    // focus is still within the mobile nav\n    if (event.target.closest('.mobile-menu')) {\n      return;\n    }\n\n    event.preventDefault();\n\n    previousFocus = undefined;\n    menuToggle.focus();\n  });\n};\n\n// close all sub menus\nconst closeSubMenus = (exclude = null) => {\n  subMenus.forEach((sub) => {\n    if (sub !== exclude) {\n      sub.classList.remove('is-open');\n    }\n  });\n};\n\n// enable sub-nav open/close on click\nconst handleClickEvents = (event) => {\n  const { target } = event;\n\n  if (!target.parentElement.matches('.menu-item-has-children')) {\n    return;\n  }\n\n  // prevent '#' from being appended to URI\n  event.preventDefault();\n  event.stopPropagation(); // for screen readers\n  event.target.focus(); // for screen readers\n\n  closeSubMenus(event.target.parentElement);\n\n  event.target.parentElement.classList.toggle('is-open');\n};\n\n// handle sub-nav open/close on interactions; handle exit\nconst handleKeyboardEvents = (event) => {\n  const { code } = event;\n\n  // accept keyboard events as clicks\n  if (['Space', 'Spacebar', 'Enter'].indexOf(code) !== -1) {\n    // but not if a modifier key is being pressed at the same time\n    if (!event.shiftKey && !event.metaKey && !event.ctrlKey && !event.altKey) {\n      handleClickEvents(event);\n    }\n    return;\n  }\n\n  // remove all stateful classes from the menu\n  if (['Esc', 'Escape'].indexOf(code) !== -1) {\n    closeSubMenus();\n  }\n};\n\n// close mobile menu when burger is shift-tabbed out of\nconst maybeCloseMobileMenu = (event) => {\n  const { code, shiftKey } = event;\n\n  if (code === 'Tab' && shiftKey) {\n    const closeMenuEvent = new KeyboardEvent('keydown', {\n      altKey: false,\n      bubbles: true,\n      cancelBubble: false,\n      cancelable: true,\n      charCode: 0,\n      code: 'Escape',\n      ctrlKey: false,\n      key: 'Escape',\n      keyCode: 27,\n      metaKey: false,\n      shiftKey: false,\n      which: 27,\n    });\n\n    menuToggle.dispatchEvent(closeMenuEvent);\n  }\n};\n\nconst init = () => {\n  pageHeader = document.querySelector('.page-header');\n  mobileMenu = document.getElementById('mobile-menu');\n\n  if (!pageHeader || !mobileMenu) {\n    return;\n  }\n\n  menuToggle = mobileMenu.parentElement.querySelector('.burger');\n  subMenus = Array.from(mobileMenu.querySelectorAll('.menu-item-has-children'));\n\n  mobileMenu.addEventListener('click', handleClickEvents);\n  mobileMenu.addEventListener('keydown', handleKeyboardEvents);\n  menuToggle.addEventListener('keydown', maybeCloseMobileMenu);\n\n  setupFocusTrap();\n};\n\nexport default init;\n","export default () => {\n  const selects = document.querySelectorAll('.news-sidebar select');\n  if (!selects.length) return;\n\n  Array.from(selects).forEach((el) => {\n    el.addEventListener('change', (event) => {\n      document.location = event.target.value;\n    });\n  });\n};\n","const isEscape = ({ key }) => ['Esc', 'Escape'].indexOf(key) !== -1;\nconst isSpace = ({ key }) => ['Space', 'Spacebar', ' '].indexOf(key) !== -1;\nconst isEnter = ({ key }) => ['Enter'].indexOf(key) !== -1;\nconst isTab = ({ key }) => ['Tab'].indexOf(key) !== -1;\n\nconst isArrowUp = ({ key }) => ['ArrowUp', 'Up'].indexOf(key) !== -1;\nconst isArrowDown = ({ key }) => ['ArrowDown', 'Down'].indexOf(key) !== -1;\nconst isArrowLeft = ({ key }) => ['ArrowLeft', 'Left'].indexOf(key) !== -1;\nconst isArrowRight = ({ key }) => ['ArrowRight', 'Right'].indexOf(key) !== -1;\n\nconst isLetter = ({ key }) => /[a-zA-Z]$/.test(key);\nconst isNumber = ({ key }) => /[0-9]$/.test(key);\n\nconst isDirectional = (event) =>\n  isArrowUp(event) || isArrowDown(event) || isArrowLeft(event) || isArrowRight(event);\n\n// nb: the [type]Key props are always false unless the event is for a keypress whilst a modifier is held\nconst hasModifier = ({ metaKey, ctrlKey, altKey, shiftKey }) =>\n  metaKey || ctrlKey || altKey || shiftKey;\n\nexport default {\n  isEscape,\n  isSpace,\n  isEnter,\n  isTab,\n\n  isArrowUp,\n  isArrowDown,\n  isArrowLeft,\n  isArrowRight,\n  isDirectional,\n\n  isLetter,\n  isNumber,\n\n  hasModifier,\n};\n","const TYPE_TIME = 600; // max delay between keypresses\nlet timer; // timer for keypresses\nlet keys = []; // list of keys pressed\nlet focused = null; // the focused element\n\n/**\n * Perform a search through the items in a list\n *\n * @param {String} groupSelector the group selector\n * @param {Function} textFilter the text filter function\n *\n * @returns {Function}\n */\nconst searchList =\n  ({ groupSelector, textFilter }) =>\n  (event, options) => {\n    const { key } = event;\n\n    /**\n     *\n     * @param {Array<int,DOMNode>} matches the list of matching options\n     * @returns {Void}\n     */\n    const searchSelect = (matches) => {\n      if (!matches.length) {\n        return;\n      }\n\n      let currentIndex = -1;\n\n      // if we have a focused list item, use that as the starting point\n      if (document.activeElement.closest(groupSelector)) {\n        focused = document.activeElement;\n        currentIndex = matches.indexOf(focused);\n      }\n\n      const nextIndex = currentIndex + 1;\n      const toBeSelected = matches[nextIndex] || matches[0];\n\n      if (toBeSelected === currentIndex) {\n        return;\n      }\n\n      toBeSelected.focus();\n      toBeSelected.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n        inline: 'nearest',\n      });\n    };\n\n    clearTimeout(timer);\n\n    keys.push(key.toLowerCase());\n\n    // find the FIRST option that most closely matches our keys\n    // if that first one is already selected, go to NEXT option\n    const stringMatch = keys.join('');\n    // attempt an exact match\n    const exactMatches = options.filter((option) => textFilter(option, stringMatch));\n\n    if (exactMatches.length) {\n      searchSelect(exactMatches);\n    } else {\n      // plan b - first character match\n      const firstChar = stringMatch[0];\n      searchSelect(options.filter((option) => textFilter(option, firstChar)));\n    }\n\n    timer = setTimeout(() => {\n      keys = [];\n    }, TYPE_TIME);\n  };\n\nexport default searchList;\n","import keyboard from '../utils/keyboard';\nimport searchList from '../utils/list-search';\n\nconst groupCache = new Map();\nconst siblingGroupsCache = new Map();\nconst groupsItemsCache = new Map();\n\n/**\n * Close a group\n *\n * @param {DOMNode} group the group to close\n * @param {DOMNode} button the group's button\n *\n * @returns {Void}\n */\nconst closeGroup = (group, button) => {\n  button.classList.remove('is-active');\n  button.setAttribute('aria-expanded', false);\n};\n\n/**\n * Close all open groups\n *\n * @returns {Void}\n */\nconst closeGroups = () => {\n  groupCache.forEach(closeGroup);\n};\n\n/**\n * Toggle a group's visibility\n *\n * @param {DOMNode} button the group's button\n *\n * @returns {Void}\n */\nconst toggleGroup = (button) => {\n  if (!button.classList.contains('is-active')) {\n    closeGroups();\n  }\n\n  button.classList.toggle('is-active');\n  button.setAttribute('aria-expanded', button.classList.contains('is-active'));\n};\n\n/**\n * Perform a search through the items in a group\n *\n * @param {Event} event the event object\n * @param {DOMNode} parent the parent group\n *\n * @returns {Void}\n */\nconst search = searchList({\n  groupSelector: '.checkboxGroup-list',\n  textFilter: (o, term) => o.nextElementSibling.textContent.toLowerCase().indexOf(term) === 0,\n});\n\n/**\n * Fire a change event on an input\n *\n * @param {DOMNode} input the input to fire the event on\n * @param {Object} data any data to pass along with the event\n *\n * @returns {Void}\n */\nconst fireChangeEvent = (input, data = {}) => {\n  const event = new Event('change', { bubbles: true });\n  event.data = data;\n  input.dispatchEvent(event);\n};\n\n/**\n * Toggle visibility of groups on keyboard events\n *\n * @param {Event} event the event object\n *\n * @returns {Void}\n */\nconst handleKeyboardEvents = (event) => {\n  const { target } = event;\n\n  if (keyboard.isEscape(event)) {\n    closeGroups();\n    return;\n  }\n\n  // perform a search of items if the user is typing\n  if (keyboard.isLetter(event) && !keyboard.hasModifier(event)) {\n    const parent = target.closest('.checkboxGroup');\n    const options = groupsItemsCache.get(parent);\n    if (parent && options) {\n      search(event, options);\n    }\n    return;\n  }\n\n  // submit if the user is selecting a radio button\n  if (keyboard.isEnter(event) || keyboard.isSpace(event)) {\n    const parent = target.closest('.checkboxGroup');\n\n    if (target.matches('.checkboxGroup-button')) {\n      // clicking a group button; toggle active state\n      toggleGroup(target);\n      return;\n    }\n\n    if (parent?.matches('.is-nav') && target?.matches('input[type=\"radio\"]')) {\n      const { value } = target.parentElement.dataset;\n\n      // if the item's data-value attribute is empty, no-op.\n      if (!value) {\n        return;\n      }\n\n      // use the item's data-value attribute to perform the navigation.\n      const url = new URL(value);\n      window.location.href = url.href;\n\n      return;\n    }\n\n    // a radio has been clicked; trigger its action by submitting the form\n    if (parent?.matches('.is-form') && target?.matches('input[type=\"radio\"]')) {\n      parent.submit();\n    }\n\n    if (parent?.matches('.is-control') && target?.matches('input[type=\"radio\"]')) {\n      toggleGroup(parent.querySelector('.checkboxGroup-button'));\n      fireChangeEvent(target, { input: target });\n    }\n\n    return;\n  }\n\n  // would normally return-early, but we may add to this later\n  if (keyboard.isDirectional(event)) {\n    const parent = target.closest('.checkboxGroup');\n\n    // we only care about checkbox group events\n    if (!parent) {\n      return;\n    }\n\n    // with modifiers, assume the user is doing something we don't want to interfere with\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isArrowDown(event)) {\n      // group will have a value if target is the button\n      const group = groupCache.get(target);\n\n      if (!group) {\n        return;\n      }\n\n      // if the event is on the button, select the first item in the list\n      event.preventDefault();\n      group.querySelector('.checkboxGroup-item input').focus();\n\n      return;\n    }\n\n    if (keyboard.isArrowUp(event)) {\n      const group = groupCache.get(target);\n\n      if (!group) {\n        return;\n      }\n\n      // if the event is on the button, select the last item in the list\n      event.preventDefault();\n      group.querySelector('.checkboxGroup-item:last-child').focus();\n\n      return;\n    }\n\n    if (keyboard.isArrowLeft(event) || keyboard.isArrowRight(event)) {\n      event.preventDefault();\n    }\n  }\n};\n\n/**\n * Toggle visibility of groups on mouse events\n *\n * @param {Event} event the event object\n *\n * @returns {Void}\n */\nconst handleMouseEvents = (event) => {\n  if (!(event instanceof MouseEvent)) {\n    return;\n  }\n\n  const { target } = event;\n  // get the group itself\n  const parent = target.closest('.checkboxGroup');\n\n  // close open groups on outside clicks\n  if (!parent) {\n    closeGroups();\n    return;\n  }\n\n  if (target.matches('.checkboxGroup-button')) {\n    // clicking a group button; toggle active state\n    toggleGroup(target);\n    return;\n  }\n\n  if (parent?.matches('.is-nav') && target?.matches('.checkboxGroup-item label')) {\n    const { value } = target.dataset;\n\n    // if the item's data-value attribute is empty, no-op.\n    if (!value) {\n      return;\n    }\n\n    // use the item's data-value attribute to perform the navigation.\n    const url = new URL(value);\n    window.location.href = url.href;\n\n    return;\n  }\n\n  if (parent?.matches('.is-form') && target?.matches('.checkboxGroup-item label')) {\n    target.previousElementSibling.checked = true;\n    parent.submit();\n    return;\n  }\n\n  if (parent?.matches('.is-control') && target?.matches('.checkboxGroup-item label')) {\n    target.previousElementSibling.checked = true;\n\n    const button = parent.querySelector('.checkboxGroup-button');\n    button.textContent = target.textContent;\n\n    toggleGroup(button);\n    fireChangeEvent(target, { input: target.previousElementSibling });\n    return;\n  }\n\n  // cache siblings for faster access later\n  if (!siblingGroupsCache.has(parent)) {\n    const { children } = parent.parentElement;\n    const siblings = Array.from(children).filter((child) => child.matches('.checkboxGroup'));\n\n    siblingGroupsCache.set(parent, siblings);\n  }\n\n  // close other groups\n  siblingGroupsCache\n    .get(parent)\n    .filter((child) => child !== parent)\n    .forEach((sibling) => {\n      closeGroup(sibling, sibling.querySelector('.checkboxGroup-button'));\n    });\n};\n\nexport default () => {\n  const groups = Array.from(document.querySelectorAll('.checkboxGroup'));\n\n  if (!groups.length) {\n    return;\n  }\n\n  groups.forEach((group) => {\n    const button = group.querySelector('.checkboxGroup-button');\n    groupCache.set(button, group);\n\n    const items = group.querySelectorAll('.checkboxGroup-item input');\n    groupsItemsCache.set(group, Array.from(items));\n  });\n\n  document.addEventListener('keyup', handleKeyboardEvents);\n  document.addEventListener('mouseup', handleMouseEvents);\n};\n","const { isObject } = window.lodash;\n\n/**\n * Convert a query string into an object\n *\n * @param {String} string the query string\n * @returns {Object}\n */\nexport const queryStringToObject = (string) => {\n  const object = {};\n\n  string\n    .replace('?', '')\n    .split('&')\n    .forEach((keypair) => {\n      const [key, value] = keypair.split('=');\n      if (key) {\n        object[key] = value?.split(',');\n      }\n    });\n\n  return object;\n};\n\n/**\n * Convert an object to a query string\n *\n * @param {Object} object the object to transform\n * @returns string\n */\nexport const objectToQueryString = (object) =>\n  Object.keys(object)\n    .map((prop) => {\n      let val = object[prop];\n\n      if (!val) {\n        return null;\n      }\n\n      if (Array.isArray(val)) {\n        val = val.join(',');\n      }\n\n      if (isObject(val)) {\n        val = objectToQueryString(object);\n      }\n\n      return `${encodeURIComponent(prop)}=${encodeURIComponent(val).replace('%2C', ',')}`;\n    })\n    .filter(Boolean)\n    .join('&');\n\n/**\n * Convert a list of DOM nodes to an object\n *\n * @param {DOMNodeList} inputs the list of inputs\n * @returns {Object}\n */\nexport const inputsToObject = (inputs) => {\n  const request = {};\n\n  inputs.forEach((input) => {\n    if (!input.value || !input.name) {\n      return;\n    }\n\n    if (input.name === 's') {\n      request[input.name] = input.value.replace(/\\s+/g, '+');\n    }\n\n    if (input.nodeName === 'SELECT') {\n      request[input.name] = input.value;\n      return;\n    }\n\n    if (input.type === 'checkbox') {\n      if (!input.checked) {\n        return;\n      }\n\n      if (input.name.indexOf('[]') === -1) {\n        request[input.name] = input.value;\n        return;\n      }\n\n      const arrName = input.name.replace(/\\[\\]/, '');\n      if (!Object.hasOwnProperty.call(request, arrName)) {\n        request[arrName] = [];\n      }\n\n      request[arrName].push(input.value);\n    }\n  });\n\n  return request;\n};\n","import { inputsToObject, objectToQueryString, queryStringToObject } from '../utils/url';\n\nconst { merge } = lodash;\n\nconst handleFilterSubmit = (event) => {\n  event.preventDefault();\n\n  const [formTarget, queryString = ''] = event.target.getAttribute('action').split('?');\n  const inputs = Array.from(event.target.querySelectorAll('input,select'));\n  const request = inputsToObject(inputs);\n  const { search } = window.location;\n\n  const params = merge(queryStringToObject(queryString), queryStringToObject(search), request);\n\n  window.location = [formTarget, objectToQueryString(params)].filter(Boolean).join('?');\n};\n\nexport default function latestFilters() {\n  const form = document.getElementById('filter-form');\n\n  if (form) {\n    form.addEventListener('submit', handleFilterSubmit);\n  }\n}\n","/* eslint-disable import/prefer-default-export */\n/**\n * Retrieve form's current data\n * @param {DOMNode} form the form element\n * @returns {Object}\n */\nexport const getFormInputData = (form) => {\n  const formData = new FormData(form);\n  const data = {};\n\n  [...formData.entries()].forEach((entry) => {\n    const [name, value] = entry;\n\n    if (name.indexOf('[]') === -1) {\n      data[name] = value;\n      return;\n    }\n\n    const arrName = name.replace(/\\[\\]$/, '');\n    if (!Object.hasOwnProperty.call(data, arrName)) {\n      data[arrName] = [];\n    }\n\n    data[arrName].push(value);\n  });\n\n  return data;\n};\n/* eslint-enable import/prefer-default-export */\n","import { getFormInputData } from '../utils/form-data';\nimport { objectToQueryString, queryStringToObject } from '../utils/url';\n\nconst { xor } = lodash;\n\nlet searchForm;\nlet searchInput;\nlet searchInputButton;\nlet defaultFilters;\nlet advancedFilters;\nlet applyFiltersButton;\nlet initialFormData;\n\n/**\n * Hijack submit and redirect instead.\n * We can keep the URI nice and pretty this way.\n * @param {Event} event the submit event\n */\nconst handleSubmitEvents = (event) => {\n  event.preventDefault();\n\n  const action = searchForm.getAttribute('action');\n  const formData = getFormInputData(searchForm);\n  let actionData = {};\n\n  const [url, qsa] = action.split('?');\n\n  if (qsa) {\n    actionData = queryStringToObject(qsa);\n  }\n\n  const urlArgs = { ...actionData, ...formData };\n\n  // ideally there would be a more extensible way to do this\n  if (!urlArgs?.qyear && urlArgs?.qmonth) {\n    // \"unset\" month if year is not set.\n    // UX states that users cannot select a month without a year.\n    urlArgs.qmonth = '';\n  }\n\n  const hasQsa = Object.keys(urlArgs).some((key) => !!urlArgs[key]);\n\n  // if there's no query string, omit the `?` from the target URL\n  if (!hasQsa) {\n    window.location = url;\n    return;\n  }\n\n  const queryString = objectToQueryString(urlArgs);\n  const targetUrl = `${url}?${queryString}`;\n\n  window.location = targetUrl;\n};\n\n/**\n * Handle click events within the search form\n * @param {MouseEvent} event the event object\n * @returns {Void}\n */\nconst handleClickEvents = (event) => {\n  // filters button clicked - toggle advanced filter visibility\n  if (event.target.matches('.toggle-search-filters')) {\n    event.target.classList.toggle('is-expanded');\n    defaultFilters.classList.toggle('is-expanded');\n    advancedFilters.classList.toggle('is-active');\n    return;\n  }\n\n  // if an additional filter value changes, we enable the \"Apply\" button\n  // these fields are multi-selection inputs\n  if (event.target.matches('.additional-filters input[type=\"checkbox\"]')) {\n    const parent = event.target.closest('fieldset');\n    const inputs = Array.from(parent.querySelectorAll('input[type=\"checkbox\"]'));\n    const values = inputs.filter((i) => i.checked).map((i) => i.value);\n    const initial = initialFormData?.[event.target.name.replace(/\\[\\]$/, '')];\n\n    if (xor(initial, values).length) {\n      applyFiltersButton.classList.add('is-active');\n      applyFiltersButton.removeAttribute('disabled');\n    } else {\n      applyFiltersButton.classList.remove('is-active');\n      applyFiltersButton.setAttribute('disabled', 'disabled');\n    }\n  }\n};\n\n/**\n * Handle change events within the search form\n *\n * @param {Event} event the event object\n *\n * @returns {Void}\n */\nconst handleChangeEvents = (event) => {\n  if (event?.data?.input.closest('.checkboxGroup').matches('.autosubmit')) {\n    searchForm.requestSubmit();\n  }\n};\n\n/**\n * When the search input value changes, change its button state\n * @param {KeyboardEvent} event the event object\n */\nconst handleKeyupEvents = (event) => {\n  if (event.target.value !== initialFormData?.s) {\n    searchInputButton.classList.add('is-active');\n    searchInputButton.removeAttribute('disabled');\n  } else {\n    searchInputButton.classList.remove('is-active');\n    searchInputButton.setAttribute('disabled', 'disabled');\n  }\n};\n\n/**\n * Setup the search form\n */\nconst setupSearch = () => {\n  searchInput = searchForm.querySelector('input[type=\"text\"][name=\"s\"]');\n  searchInputButton = searchForm.querySelector('.search-input button[type=\"submit\"]');\n  defaultFilters = searchForm.querySelector('.default-search-filters .basic-filters');\n  advancedFilters = searchForm.querySelector('.additional-filters');\n  applyFiltersButton = document.getElementById('search-filters-submit');\n  initialFormData = getFormInputData(searchForm);\n\n  searchForm.addEventListener('submit', handleSubmitEvents);\n  searchForm.addEventListener('click', handleClickEvents);\n  searchForm.addEventListener('change', handleChangeEvents);\n  // target the input directly so we don't have to filter keyboard navigation\n  searchInput.addEventListener('keyup', handleKeyupEvents);\n};\n\nexport default function searchFilters() {\n  searchForm = document.querySelector('.horizontal-search');\n\n  if (searchForm) {\n    setupSearch();\n  }\n}\n","// @TODO: fix this\n\nconst manipulateQueryParameters = (url) => {\n  const urlParts = url.split('?');\n  const base = urlParts.shift();\n\n  const queryParams =\n    urlParts.length > 0\n      ? urlParts\n          .join('&')\n          .split('&')\n          .reduce((prev, obj) => {\n            const [key, value] = obj.split('=');\n\n            return {\n              ...prev,\n              [key]: value,\n            };\n          }, {})\n      : {};\n\n  return {\n    base: `${base}?`,\n    params: queryParams,\n  };\n};\n\nconst handleDropdownChange = (event) => {\n  if (!window.amnesty_data) {\n    return;\n  }\n\n  const { target: { value = '' } = {} } = event;\n  const data = manipulateQueryParameters(window.amnesty_data.archive_base_url);\n  data.params.sort = value;\n\n  const params = Object.keys(data.params)\n    .map((key) => `${key}=${data.params[key]}`)\n    .join('&');\n\n  window.location = `${data.base}${params}`;\n};\n\nconst init = () => {\n  const dropdown = document.getElementById('sort-by');\n\n  if (!dropdown) {\n    return;\n  }\n\n  dropdown.addEventListener('change', handleDropdownChange);\n};\n\nexport default init;\n","const handleVideoLoaded = (event) => {\n  event.target.closest('[class*=\"video\"]').classList.add('is-loaded');\n  event.target.removeEventListener('loadeddata', handleVideoLoaded);\n};\n\nexport default () => {\n  const videos = Array.from(document.getElementsByTagName('video'));\n  if (!videos.length) {\n    return;\n  }\n\n  videos.forEach((video) => {\n    video.addEventListener('loadeddata', handleVideoLoaded);\n  });\n};\n","const init = () => {\n  Array.from(\n    document.querySelectorAll('.wp-block-embed.is-type-video:not(.responsive-iframe)'),\n  ).forEach((embed) => {\n    if (embed.parentElement.classList.contains('wp-embed-responsive')) {\n      return;\n    }\n\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('wp-embed-responsive');\n    wrapper.appendChild(embed.cloneNode(true));\n\n    embed.replaceWith(wrapper);\n  });\n};\n\nexport default init;\n","const shareBase = 'https://twitter.com/intent/tweet';\n\nconst handleTweetAction = (e) => {\n  if (!e.target.classList.contains('btn')) {\n    return;\n  }\n\n  e.preventDefault();\n\n  const container = e.target.parentNode.parentNode;\n  const content = container.querySelector('.tweetAction-content').innerText;\n\n  const fullUrl = `${shareBase}?text=${encodeURIComponent(content)}`;\n\n  window.open(fullUrl);\n};\n\nexport default () => {\n  const blocks = document.getElementsByClassName('tweetAction');\n\n  if (!blocks.length) {\n    return;\n  }\n\n  Array.from(blocks).forEach((block) => block.addEventListener('click', handleTweetAction));\n};\n","import Flickity from 'flickity';\n\nconst setUpSliders = (container) => {\n  const slider = container.querySelector('.postlist-categories');\n\n  if (!slider) {\n    return;\n  }\n\n  let selectedIndex = -1;\n  const selectedSlide = slider.querySelector('[data-categories-selected]');\n\n  if (selectedSlide) {\n    selectedIndex = parseInt(selectedSlide.dataset.categoriesSelected, 10);\n  }\n\n  const isRightToLeft = document.documentElement.getAttribute('dir') === 'rtl';\n\n  const nextButton = container.querySelector('[data-slider-next]');\n  const prevButton = container.querySelector('[data-slider-prev]');\n\n  const flcktyInstance = new Flickity(slider, {\n    contain: true,\n    groupCells: true,\n    pageDots: false,\n    cellAlign: 'left',\n    prevNextButtons: false,\n    watchCSS: true,\n    rightToLeft: isRightToLeft,\n    on: {\n      ready: () => {\n        container.classList.add('flickity-enabled');\n      },\n    },\n  });\n\n  const flickityIsActive = () => {\n    if (!Object.prototype.hasOwnProperty.call(flcktyInstance, 'slides')) {\n      return false;\n    }\n\n    if (!flcktyInstance.slides.length) {\n      return false;\n    }\n\n    return true;\n  };\n\n  if (selectedIndex !== -1 && flickityIsActive()) {\n    flcktyInstance.selectCell(selectedIndex, true, true);\n  }\n\n  const checkButtons = (index) => {\n    if (!flickityIsActive()) {\n      return;\n    }\n\n    if (index === 0) {\n      prevButton.setAttribute('disabled', true);\n    }\n\n    if (index === flcktyInstance.slides.length - 1) {\n      nextButton.setAttribute('disabled', true);\n    }\n\n    if (index < flcktyInstance.slides.length - 1) {\n      nextButton.removeAttribute('disabled');\n    }\n\n    if (index > 0) {\n      prevButton.removeAttribute('disabled');\n    }\n  };\n\n  checkButtons(flcktyInstance.selectedIndex);\n  flcktyInstance.on('change', checkButtons);\n\n  container.addEventListener('click', (event) => {\n    if (event.target.matches('[data-slider-next]')) {\n      event.preventDefault();\n      flcktyInstance.next();\n    }\n\n    if (event.target.matches('[data-slider-prev]')) {\n      event.preventDefault();\n      flcktyInstance.previous();\n    }\n  });\n};\n\nconst init = () => {\n  const postCategories = Array.from(document.querySelectorAll('[data-slider]'));\n\n  if (postCategories.length < 1) {\n    return;\n  }\n\n  postCategories.forEach(setUpSliders);\n};\n\nexport default init;\n","import Flickity from 'flickity';\nimport 'flickity-as-nav-for';\n\nconst { debounce } = lodash;\n\nconst createArrowButton = (modifier) => {\n  const button = document.createElement('button');\n  button.setAttribute(`data-slider-${modifier}`, 1);\n  return button;\n};\n\nconst handleSlideArrowNavigationEvents = (slider, prevArrow, nextArrow) => {\n  // Grab first slide child\n  const firstSlide = slider.querySelector('.slides-container .flickity-slider .slide:first-child');\n  // Grab last slide child\n  const lastSlide = slider.querySelector('.slides-container .flickity-slider .slide:last-child');\n\n  const handleClicks = () => {\n    // Hide previous arrow if on the last image in the slider\n    if (firstSlide.classList.contains('is-selected')) {\n      // eslint-disable-next-line no-param-reassign\n      prevArrow.style.display = 'none';\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      prevArrow.style.display = 'block';\n    }\n\n    // Hide next arrow if on the last image in the slider\n    if (lastSlide.classList.contains('is-selected')) {\n      // eslint-disable-next-line no-param-reassign\n      nextArrow.style.display = 'none';\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      nextArrow.style.display = 'block';\n    }\n  };\n\n  nextArrow?.addEventListener('click', handleClicks);\n  prevArrow?.addEventListener('click', handleClicks);\n};\n\nconst createSlider = (slider) => {\n  const slides = slider.querySelector('.slides');\n\n  if (!slides) {\n    return;\n  }\n\n  const isRightToLeft = document.documentElement.getAttribute('dir') === 'rtl';\n\n  const prevArrow = slider.querySelector('.slides-arrow--previous');\n  const nextArrow = slider.querySelector('.slides-arrow--next');\n\n  const slidesWithContent = Array.from(slider.querySelectorAll('.slide-contentWrapper'));\n\n  slidesWithContent.forEach((wrapper) => {\n    wrapper.addEventListener('click', (event) => {\n      const isToggle = event.target.matches('.slider-toggleContent');\n      const isOverlay = event.target.matches('.slide-contentWrapper.is-open');\n\n      if (!isToggle && !isOverlay) {\n        return;\n      }\n\n      event.preventDefault();\n\n      wrapper.classList.toggle('is-open');\n\n      if (wrapper.classList.contains('is-open')) {\n        prevArrow.style.display = 'none';\n        nextArrow.style.display = 'none';\n      } else {\n        prevArrow.style.display = 'block';\n        nextArrow.style.display = 'block';\n      }\n    });\n  });\n\n  const slidesInstance = new Flickity(slides, {\n    rightToLeft: isRightToLeft,\n    prevNextButtons: false,\n    pageDots: false,\n  });\n\n  const lastSlideInSlider = slidesInstance.slides.length - 1;\n  const numberOfSlides = slidesInstance.slides.length;\n\n  slidesInstance.on('change', (slideNo) => {\n    if (slideNo > 0) {\n      prevArrow.style.display = 'block';\n    } else {\n      prevArrow.style.display = 'none';\n    }\n    if (slideNo === lastSlideInSlider) {\n      nextArrow.style.display = 'none';\n    } else {\n      nextArrow.style.display = 'block';\n    }\n  });\n\n  if (nextArrow && prevArrow) {\n    prevArrow.addEventListener('click', () => slidesInstance.previous());\n    nextArrow.addEventListener('click', () => slidesInstance.next());\n  }\n\n  const sliderNavigation = slider.querySelector('.slider-nav');\n\n  if (!sliderNavigation) {\n    return;\n  }\n\n  const slideNavContainer = slider.querySelector('.slider-navContainer');\n  let arrowsVisible = false;\n  const hideArrows = () => slideNavContainer.classList.remove('has-arrows');\n  const showArrows = () => slideNavContainer.classList.add('has-arrows');\n\n  const workoutArrows = (instance) => {\n    if (instance.slides.length > 1 && !arrowsVisible) {\n      showArrows();\n      arrowsVisible = true;\n      return;\n    }\n\n    if (instance.slides.length > 1 && arrowsVisible) {\n      return;\n    }\n\n    if (arrowsVisible) {\n      arrowsVisible = false;\n      hideArrows();\n    }\n  };\n\n  const prevNavArrow = createArrowButton('prev');\n  const nextNavArrow = createArrowButton('next');\n\n  const navigationSlider = new Flickity(sliderNavigation, {\n    asNavFor: slides,\n    contain: true,\n    pageDots: false,\n    prevNextButtons: false,\n    draggable: false,\n    groupCells: true,\n    rightToLeft: isRightToLeft,\n    on: {\n      ready() {\n        if (!slideNavContainer) {\n          return;\n        }\n\n        slideNavContainer.appendChild(prevNavArrow);\n        slideNavContainer.appendChild(nextNavArrow);\n\n        prevNavArrow.addEventListener('click', () => this.previous());\n        nextNavArrow.addEventListener('click', () => this.next());\n\n        workoutArrows(this);\n      },\n    },\n  });\n\n  navigationSlider.on('change', () => workoutArrows(navigationSlider));\n  window.addEventListener(\n    'resize',\n    debounce(() => workoutArrows(navigationSlider), 150),\n  );\n\n  // we process arrow logic only if the arrows are available\n  if (numberOfSlides > 1) {\n    handleSlideArrowNavigationEvents(slider, prevArrow, nextArrow);\n    if (nextArrow) {\n      nextArrow.style.display = 'block';\n    }\n  }\n};\n\nconst init = () => {\n  const sliders = Array.from(document.querySelectorAll('.slider'));\n  sliders.forEach(createSlider);\n};\n\nexport default init;\n","const { isInteger } = lodash;\n\n// ensure value is an int\nconst toRawNumber = (value = '0') => {\n  if (isInteger(value)) {\n    return value;\n  }\n\n  const trimmed = value.replace(/[^\\d]/g, '');\n  const inted = parseInt(trimmed, 10);\n\n  return inted;\n};\n\n// format a value as a locale-aware number\nconst toFormattedString = (value) => {\n  if (!value) {\n    return '';\n  }\n\n  const { currentLocale = 'en-GB' } = window.amnestyCoreI18n;\n  const formatted = toRawNumber(value).toLocaleString(currentLocale.replace('_', '-'));\n\n  return formatted;\n};\n\n// animate an element's value from 0 to its end result\n// eslint-disable-next-line default-param-last\nconst countUp = (target, end, duration = 2000, observerObj) => {\n  let current = 0;\n  let progress = 0;\n  let startTime = 0;\n\n  const step = (timestamp) => {\n    if (!startTime) {\n      startTime = timestamp;\n    }\n    progress = Math.min((timestamp - startTime) / duration, 1);\n    current = Math.floor(progress * end);\n    // eslint-disable-next-line no-param-reassign\n    target.textContent = toFormattedString(current);\n    target.setAttribute('style', `opacity: ${progress}`);\n\n    if (progress < 1) {\n      requestAnimationFrame(step);\n    }\n\n    // this one's done now.\n    if (progress === 1) {\n      observerObj.unobserve(target);\n    }\n  };\n\n  requestAnimationFrame(step);\n};\n\n// animate once the element's well into view\nconst observer = new IntersectionObserver(\n  (entries, observerObj) => {\n    entries.forEach((entry) => {\n      if (!entry.isIntersecting) {\n        return;\n      }\n\n      if (entry.intersectionRatio < 1) {\n        return;\n      }\n\n      const { target } = entry;\n      const { duration } = target.dataset;\n      const end = toRawNumber(target.dataset.value);\n      countUp(target, end, duration * 1000, observerObj);\n    });\n  },\n  {\n    rootMargin: '0px 0px -200px 0px',\n    threshold: [1],\n  },\n);\n\nexport default () => {\n  const elems = document.querySelectorAll('.wp-block-amnesty-core-counter');\n\n  Array.from(elems).forEach((elem) => {\n    // doing this in JS so that it's still visible if the JS doesn't work\n    elem.setAttribute('style', 'opacity: 0');\n    observer.observe(elem);\n  });\n};\n","const showCorrectList = (target) => {\n  const letter = target.textContent;\n  const block = target.parentElement.parentElement; // block container\n  const lists = block.querySelectorAll('.listItems');\n  const activeLetter = block.querySelector('.activeLetter');\n\n  activeLetter.innerText = letter;\n\n  Array.from(lists).forEach((list) => {\n    const display = list.dataset.key === letter ? 'flex' : 'none';\n    list.setAttribute('style', `display:${display}`);\n  });\n};\n\nconst handleBlockClickEvents = (event) => {\n  const { target } = event;\n  const { nodeName } = target;\n\n  if (nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (target.getAttribute('disabled')) {\n    return;\n  }\n\n  const buttons = target.parentElement.getElementsByTagName('button');\n  Array.from(buttons).forEach((button) => {\n    button.setAttribute('class', '');\n  });\n\n  target.setAttribute('class', 'is-active');\n  showCorrectList(target);\n};\n\nexport default function init() {\n  const elements = document.querySelectorAll('.wp-block-amnesty-core-term-list');\n\n  if (!elements) {\n    return;\n  }\n\n  Array.from(elements).forEach((item) => {\n    item.addEventListener('click', handleBlockClickEvents);\n  });\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = wp.i18n;","import { _n, _x, sprintf } from '@wordpress/i18n';\n\nconst MINUTE = 60;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\n\nconst getTimeRemaining = (date) => {\n  if (!date) {\n    return {};\n  }\n\n  const total = (Date.parse(date) - Date.now()) / 1000;\n  const seconds = Math.floor(total % 60);\n  const minutes = Math.floor((total / MINUTE) % 60);\n  const hours = Math.floor((total / HOUR) % 24);\n  const days = Math.floor(total / DAY);\n\n  return {\n    total,\n    days,\n    hours,\n    minutes,\n    seconds,\n  };\n};\n\nconst pad = (value) => `0${value}`.slice(-2);\n\nconst clockTemplate = (data, attributes) => {\n  if (!attributes.date) {\n    return '00:00:00';\n  }\n\n  const { days = 0, hours = 0, minutes = 0, seconds = 0 } = data;\n  // translators: [front] https://wordpresstheme.amnesty.org/blocks/b021-countdown-timer/\n  const dayPlural = _n('%d day', '%d days', days, 'amnesty');\n\n  if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\n    return attributes.expiredText;\n  }\n\n  if (days >= 3) {\n    return sprintf(dayPlural, days);\n  }\n\n  if (days >= 1) {\n    return sprintf(\n      // translators: [front] https://wordpresstheme.amnesty.org/blocks/b021-countdown-timer/\n      _x(\n        '%1$s, %2$s:%3$s:%4$s',\n        'time format(prefix translated separately) i.e. \"x, H:i:s\"',\n        'amnesty',\n      ),\n      sprintf(dayPlural, days),\n      pad(hours),\n      pad(minutes),\n      pad(seconds),\n    );\n  }\n\n  return sprintf(\n    // translators: [front] https://wordpresstheme.amnesty.org/blocks/b021-countdown-timer/\n    _x('%1$s:%2$s:%3$s', 'time format, H:i:s', 'amnesty'),\n    pad(hours),\n    pad(minutes),\n    pad(seconds),\n  );\n};\n\nconst renderClock = (endTime) => {\n  const { expiredtext, timestamp } = endTime.dataset;\n  const data = getTimeRemaining(timestamp);\n\n  /* eslint-disable no-param-reassign */\n  endTime.textContent = clockTemplate(data, {\n    expiredText: expiredtext,\n    date: timestamp,\n  });\n};\n\nexport default () => {\n  const endTimes = document.querySelectorAll('.countdownClock');\n\n  Array.from(endTimes).forEach((endTime) => {\n    setInterval(() => renderClock(endTime), 1000);\n  });\n};\n","const handleClickEvents = (event) => {\n  if (!event.target.classList.contains('tabs-nav-trigger')) {\n    return;\n  }\n\n  event.preventDefault();\n\n  const wrapper = event.target.closest('.tabs');\n  const { content } = event.target.dataset;\n\n  if (!wrapper || !content) {\n    return;\n  }\n\n  const navItems = Array.from(wrapper.getElementsByClassName('tabs-nav-trigger'));\n\n  if (!navItems.length) {\n    return;\n  }\n\n  navItems.forEach((navItem) => {\n    navItem.classList.remove('is-selected');\n  });\n\n  event.target.classList.add('is-selected');\n\n  const items = Array.from(wrapper.getElementsByClassName('tab-content'));\n\n  if (!items.length) {\n    return;\n  }\n\n  items.forEach((item) => {\n    item.classList.remove('is-selected');\n\n    if (item.getAttribute('aria-hidden') !== null) {\n      item.setAttribute('aria-hidden', item.dataset.content === content ? 'false' : 'true');\n    }\n\n    if (item.dataset.content === content) {\n      item.classList.add('is-selected');\n    }\n  });\n};\n\nexport default function init() {\n  document.addEventListener('click', handleClickEvents);\n}\n","export default function browserDetector() {\n  // Firefox 1.0+\n  const isFirefox = typeof InstallTrigger !== 'undefined';\n\n  // Safari 3.0+ \"[object HTMLElementConstructor]\"\n  const isSafari =\n    window.navigator.userAgent.indexOf('Safari') > -1 &&\n    window.navigator.userAgent.indexOf('Chrome') === -1;\n\n  // Internet Explorer 6-11\n  const isIE = false || !!document.documentMode;\n\n  // Edge 20+\n  const isEdge = window.navigator.userAgent.indexOf('Edge/') > -1;\n\n  // Chrome 1 - 71\n  const isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);\n\n  const { body } = document;\n\n  if (isFirefox) {\n    body.classList.add('firefox');\n  }\n\n  if (isSafari) {\n    body.classList.add('safari');\n  }\n\n  if (isIE) {\n    body.classList.add('ie');\n  }\n\n  if (isEdge) {\n    body.classList.add('edge');\n  }\n\n  if (isChrome) {\n    body.classList.add('chrome');\n  }\n}\n","export default function authorBioToggle() {\n  const buttonElement = document.getElementById('author-read-more');\n  const textContainer = document.querySelector('.author-biography');\n\n  if (!buttonElement || !textContainer) {\n    return;\n  }\n\n  const textContainerHeight = textContainer.clientHeight;\n\n  if (textContainerHeight < 300) {\n    buttonElement.style.display = 'none';\n  }\n\n  const removeClass = () => {\n    textContainer.classList.remove('is-collapsed');\n    buttonElement.style.display = 'none';\n  };\n\n  buttonElement.addEventListener('click', removeClass);\n}\n","const toggle = (event) => {\n  event.target.parentElement.classList.toggle('is-visible');\n};\n\nconst init = (button) => {\n  button.addEventListener('click', toggle);\n};\n\nexport default () => {\n  Array.from(document.querySelectorAll('.iframeButton')).forEach(init);\n};\n","const init = (block) => (event) => {\n  if (event.target.matches('.btn--blank')) {\n    block.classList.toggle('is-collapsed');\n  }\n};\n\nconst collapsableBlock = () => {\n  const blocks = Array.from(document.getElementsByClassName('wp-block-amnesty-core-collapsable'));\n  blocks.forEach((block) => block.addEventListener('click', init(block)));\n};\n\nexport default collapsableBlock;\n","import Flickity from 'flickity';\n\nconst handleStaticClick = (flcktyInstance) => (event, pointer, cellElement, cellIndex) => {\n  if (!cellElement) {\n    return;\n  }\n\n  const viewport = cellElement.closest('.flickity-viewport');\n\n  if (viewport) {\n    if (cellIndex > 0) {\n      // viewport.nextElementSibling refers flickity PREVIOUS naviation arrow\n      viewport.nextElementSibling.disabled = false;\n    } else {\n      viewport.nextElementSibling.disabled = true;\n    }\n\n    if (cellIndex === flcktyInstance.slides.length - 1) {\n      // viewport.nextElementSibling.nextElementSibling refers flickity NEXT naviation arrow\n      viewport.nextElementSibling.nextElementSibling.disabled = true;\n    } else {\n      viewport.nextElementSibling.nextElementSibling.disabled = false;\n    }\n  }\n};\n\nconst handleChange = (flcktyInstance) => () => {\n  // Makes array of all tabPanels and their content\n  const tabContent = Array.from(flcktyInstance.element.nextElementSibling.children);\n  // Removes \"tab-\" from element id\n  const currentTabId = flcktyInstance.selectedElement.id.slice(4);\n\n  tabContent.forEach((content) => {\n    // If tabPanel includes current tab id, add is-selected-tab class and change aria-expanded to true.\n    // else, remove class and change aria to false\n    if (content.id.includes(currentTabId)) {\n      content.classList.add('is-selected-tab');\n      content.setAttribute('aria-expanded', 'true');\n    } else {\n      content.classList.remove('is-selected-tab');\n      content.setAttribute('aria-expanded', 'false');\n    }\n  });\n};\n\nconst addFlickityToTabs = () => {\n  const FlickityContainer = document.querySelectorAll('.wp-block-bigbite-tabs .tabsContainer');\n\n  FlickityContainer.forEach((element) => {\n    const slides = Array.from(element.nextElementSibling.children);\n    const slideCount = slides.length;\n\n    // If tabs block has 3 or less slides adds a custom class\n    if (slideCount <= 3) {\n      element.classList.add('has-no-nav-arrows');\n      return;\n    }\n\n    // Only adds flickity if slider has more than 3 slides\n    const flcktyInstance = new Flickity(element, {\n      cellAlign: 'left',\n      pageDots: false,\n    });\n\n    setTimeout(() => {\n      const urlHash = window.location.hash.replace('#', '');\n\n      if (!urlHash) {\n        return;\n      }\n\n      const initiallySelectedSlide = document.getElementById(urlHash);\n\n      if (!initiallySelectedSlide) {\n        return;\n      }\n\n      const items = Array.from(initiallySelectedSlide.parentElement.children);\n      const index = items.indexOf(initiallySelectedSlide);\n\n      if (index === -1) {\n        return;\n      }\n\n      flcktyInstance.select(index, false, true);\n    }, 1);\n\n    flcktyInstance.on('staticClick', handleStaticClick(flcktyInstance));\n    flcktyInstance.on('change', handleChange(flcktyInstance));\n  });\n};\n\nexport default addFlickityToTabs;\n","const setupFormControl = (block) => {\n  const choices = block.querySelector('.checkboxGroup');\n  const download = block.querySelector('.btn--download');\n\n  if (!choices || !download) {\n    return;\n  }\n\n  choices.addEventListener('change', (event) => {\n    const { target } = event;\n    const {\n      dataset: { value },\n    } = target;\n\n    // make sure that the URI is for the current origin\n    const path = new URL(value).pathname;\n    const href = new URL(path, window.location.origin);\n\n    download.setAttribute('href', href.toString());\n    download.setAttribute('download', href.toString().split('/').pop());\n  });\n};\n\nexport default () => {\n  const blocks = Array.from(document.querySelectorAll('.download-block'));\n\n  if (!blocks.length) {\n    return;\n  }\n\n  const multiple = blocks.filter(({ classList }) => classList.contains('is-multiple'));\n  multiple.forEach(setupFormControl);\n};\n","import '../styles/app.scss';\nimport './polyfills';\n\nimport Expose from './modules/Expose';\nimport Overlays from './modules/overlays';\nimport popIn from './modules/pop-in';\nimport fluidText from './modules/fluid-text';\nimport languageSelector from './modules/language-selector';\nimport header from './modules/header';\nimport mobileMenu from './modules/navigation';\nimport subcatDrops from './modules/subcategory-dropdown';\nimport checkboxGroup from './modules/checkbox-group';\nimport latestFilters from './modules/latest-filters';\nimport searchFilters from './modules/search-filters';\nimport filterPosts from './modules/filter-posts';\nimport loadVideos from './modules/video-loaded';\nimport fluidIframe from './modules/fluid-iframe';\nimport tweetAction from './modules/tweet-action';\nimport categorySlider from './modules/category-slider';\nimport sliderBlock from './modules/slider-block';\nimport counters from './modules/counter';\nimport termList from './modules/term-list';\nimport countdownTimer from './modules/countdownTimer';\nimport tabbedNav from './modules/tabbed-nav';\nimport browserDetector from './modules/browser-detector';\nimport authorBioToggle from './modules/author-bio-toggle';\nimport iframeButton from './modules/iframe-button';\nimport collapsableBlock from './modules/collapsable-block';\nimport addFlickityToTabs from './modules/tabbed-content-flickity';\nimport downloadBlock from './modules/download-block';\n\nconst App = () => {\n  browserDetector();\n  popIn();\n  languageSelector();\n  header();\n  mobileMenu();\n  Overlays();\n  subcatDrops();\n  downloadBlock();\n  checkboxGroup();\n  latestFilters();\n  searchFilters();\n  filterPosts();\n  fluidIframe();\n  tweetAction();\n  categorySlider();\n  sliderBlock();\n  counters();\n  termList();\n  countdownTimer();\n  tabbedNav();\n  loadVideos();\n  authorBioToggle();\n  iframeButton();\n  collapsableBlock();\n  addFlickityToTabs();\n\n  fluidText(document.getElementsByClassName('article-shareTitle'), 0.9);\n\n  return {\n    using: Expose(),\n  };\n};\n\n/**\n * Export to `window.App.default()`.\n */\nexport default App;\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","var ___EXPOSE_LOADER_IMPORT___ = require(\"-!../../node_modules/esbuild-loader/dist/index.cjs??ruleSet[1].rules[2]!./App.js\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../../node_modules/expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\nif (typeof ___EXPOSE_LOADER_GLOBAL_THIS___[\"App\"] === 'undefined') ___EXPOSE_LOADER_GLOBAL_THIS___[\"App\"] = ___EXPOSE_LOADER_IMPORT___;\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","\"use strict\";\n\n// eslint-disable-next-line func-names\nmodule.exports = function () {\n  if (typeof globalThis === \"object\") {\n    return globalThis;\n  }\n  var g;\n  try {\n    // This works if eval is allowed (see CSP)\n    // eslint-disable-next-line no-new-func\n    g = this || new Function(\"return this\")();\n  } catch (e) {\n    // This works if the window reference is available\n    if (typeof window === \"object\") {\n      return window;\n    }\n\n    // This works if the self reference is available\n    if (typeof self === \"object\") {\n      return self;\n    }\n\n    // This works if the global reference is available\n    if (typeof global !== \"undefined\") {\n      return global;\n    }\n  }\n  return g;\n}();","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","/*!\n * Flickity asNavFor v2.0.1\n * enable asNavFor for Flickity\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true*/\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'flickity/js/index',\n      'fizzy-ui-utils/utils'\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('flickity'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n      window.Flickity,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( Flickity, utils ) {\n\n'use strict';\n\n// -------------------------- asNavFor prototype -------------------------- //\n\n// Flickity.defaults.asNavFor = null;\n\nFlickity.createMethods.push('_createAsNavFor');\n\nvar proto = Flickity.prototype;\n\nproto._createAsNavFor = function() {\n  this.on( 'activate', this.activateAsNavFor );\n  this.on( 'deactivate', this.deactivateAsNavFor );\n  this.on( 'destroy', this.destroyAsNavFor );\n\n  var asNavForOption = this.options.asNavFor;\n  if ( !asNavForOption ) {\n    return;\n  }\n  // HACK do async, give time for other flickity to be initalized\n  var _this = this;\n  setTimeout( function initNavCompanion() {\n    _this.setNavCompanion( asNavForOption );\n  });\n};\n\nproto.setNavCompanion = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var companion = Flickity.data( elem );\n  // stop if no companion or companion is self\n  if ( !companion || companion == this ) {\n    return;\n  }\n\n  this.navCompanion = companion;\n  // companion select\n  var _this = this;\n  this.onNavCompanionSelect = function() {\n    _this.navCompanionSelect();\n  };\n  companion.on( 'select', this.onNavCompanionSelect );\n  // click\n  this.on( 'staticClick', this.onNavStaticClick );\n\n  this.navCompanionSelect( true );\n};\n\nproto.navCompanionSelect = function( isInstant ) {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  // select slide that matches first cell of slide\n  var selectedCell = this.navCompanion.selectedCells[0];\n  var firstIndex = this.navCompanion.cells.indexOf( selectedCell );\n  var lastIndex = firstIndex + this.navCompanion.selectedCells.length - 1;\n  var selectIndex = Math.floor( lerp( firstIndex, lastIndex,\n    this.navCompanion.cellAlign ) );\n  this.selectCell( selectIndex, false, isInstant );\n  // set nav selected class\n  this.removeNavSelectedElements();\n  // stop if companion has more cells than this one\n  if ( selectIndex >= this.cells.length ) {\n    return;\n  }\n\n  var selectedCells = this.cells.slice( firstIndex, lastIndex + 1 );\n  this.navSelectedElements = selectedCells.map( function( cell ) {\n    return cell.element;\n  });\n  this.changeNavSelectedClass('add');\n};\n\nfunction lerp( a, b, t ) {\n  return ( b - a ) * t + a;\n}\n\nproto.changeNavSelectedClass = function( method ) {\n  this.navSelectedElements.forEach( function( navElem ) {\n    navElem.classList[ method ]('is-nav-selected');\n  });\n};\n\nproto.activateAsNavFor = function() {\n  this.navCompanionSelect( true );\n};\n\nproto.removeNavSelectedElements = function() {\n  if ( !this.navSelectedElements ) {\n    return;\n  }\n  this.changeNavSelectedClass('remove');\n  delete this.navSelectedElements;\n};\n\nproto.onNavStaticClick = function( event, pointer, cellElement, cellIndex ) {\n  if ( typeof cellIndex == 'number' ) {\n    this.navCompanion.selectCell( cellIndex );\n  }\n};\n\nproto.deactivateAsNavFor = function() {\n  this.removeNavSelectedElements();\n};\n\nproto.destroyAsNavFor = function() {\n  if ( !this.navCompanion ) {\n    return;\n  }\n  this.navCompanion.off( 'select', this.onNavCompanionSelect );\n  this.off( 'staticClick', this.onNavStaticClick );\n  delete this.navCompanion;\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n}));\n","// add, remove cell\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n\n'use strict';\n\n// append cells to a document fragment\nfunction getCellsFragment( cells ) {\n  var fragment = document.createDocumentFragment();\n  cells.forEach( function( cell ) {\n    fragment.appendChild( cell.element );\n  } );\n  return fragment;\n}\n\n// -------------------------- add/remove cell prototype -------------------------- //\n\nvar proto = Flickity.prototype;\n\n/**\n * Insert, prepend, or append cells\n * @param {[Element, Array, NodeList]} elems - Elements to insert\n * @param {Integer} index - Zero-based number to insert\n */\nproto.insert = function( elems, index ) {\n  var cells = this._makeCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  var len = this.cells.length;\n  // default to append\n  index = index === undefined ? len : index;\n  // add cells with document fragment\n  var fragment = getCellsFragment( cells );\n  // append to slider\n  var isAppend = index == len;\n  if ( isAppend ) {\n    this.slider.appendChild( fragment );\n  } else {\n    var insertCellElement = this.cells[ index ].element;\n    this.slider.insertBefore( fragment, insertCellElement );\n  }\n  // add to this.cells\n  if ( index === 0 ) {\n    // prepend, add to start\n    this.cells = cells.concat( this.cells );\n  } else if ( isAppend ) {\n    // append, add to end\n    this.cells = this.cells.concat( cells );\n  } else {\n    // insert in this.cells\n    var endCells = this.cells.splice( index, len - index );\n    this.cells = this.cells.concat( cells ).concat( endCells );\n  }\n\n  this._sizeCells( cells );\n  this.cellChange( index, true );\n};\n\nproto.append = function( elems ) {\n  this.insert( elems, this.cells.length );\n};\n\nproto.prepend = function( elems ) {\n  this.insert( elems, 0 );\n};\n\n/**\n * Remove cells\n * @param {[Element, Array, NodeList]} elems - ELements to remove\n */\nproto.remove = function( elems ) {\n  var cells = this.getCells( elems );\n  if ( !cells || !cells.length ) {\n    return;\n  }\n\n  var minCellIndex = this.cells.length - 1;\n  // remove cells from collection & DOM\n  cells.forEach( function( cell ) {\n    cell.remove();\n    var index = this.cells.indexOf( cell );\n    minCellIndex = Math.min( index, minCellIndex );\n    utils.removeFrom( this.cells, cell );\n  }, this );\n\n  this.cellChange( minCellIndex, true );\n};\n\n/**\n * logic to be run after a cell's size changes\n * @param {Element} elem - cell's element\n */\nproto.cellSizeChange = function( elem ) {\n  var cell = this.getCell( elem );\n  if ( !cell ) {\n    return;\n  }\n  cell.getSize();\n\n  var index = this.cells.indexOf( cell );\n  this.cellChange( index );\n};\n\n/**\n * logic any time a cell is changed: added, removed, or size changed\n * @param {Integer} changedCellIndex - index of the changed cell, optional\n * @param {Boolean} isPositioningSlider - Positions slider after selection\n */\nproto.cellChange = function( changedCellIndex, isPositioningSlider ) {\n  var prevSelectedElem = this.selectedElement;\n  this._positionCells( changedCellIndex );\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  // update selectedIndex\n  // try to maintain position & select previous selected element\n  var cell = this.getCell( prevSelectedElem );\n  if ( cell ) {\n    this.selectedIndex = this.getCellSlideIndex( cell );\n  }\n  this.selectedIndex = Math.min( this.slides.length - 1, this.selectedIndex );\n\n  this.emitEvent( 'cellChange', [ changedCellIndex ] );\n  // position slider\n  this.select( this.selectedIndex );\n  // do not position slider after lazy load\n  if ( isPositioningSlider ) {\n    this.positionSliderAtSelected();\n  }\n};\n\n// -----  ----- //\n\nreturn Flickity;\n\n} ) );\n","// animate\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'fizzy-ui-utils/utils',\n    ], function( utils ) {\n      return factory( window, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.animatePrototype = factory(\n        window,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, utils ) {\n\n'use strict';\n\n// -------------------------- animate -------------------------- //\n\nvar proto = {};\n\nproto.startAnimation = function() {\n  if ( this.isAnimating ) {\n    return;\n  }\n\n  this.isAnimating = true;\n  this.restingFrames = 0;\n  this.animate();\n};\n\nproto.animate = function() {\n  this.applyDragForce();\n  this.applySelectedAttraction();\n\n  var previousX = this.x;\n\n  this.integratePhysics();\n  this.positionSlider();\n  this.settle( previousX );\n  // animate next frame\n  if ( this.isAnimating ) {\n    var _this = this;\n    requestAnimationFrame( function animateFrame() {\n      _this.animate();\n    } );\n  }\n};\n\nproto.positionSlider = function() {\n  var x = this.x;\n  // wrap position around\n  if ( this.options.wrapAround && this.cells.length > 1 ) {\n    x = utils.modulo( x, this.slideableWidth );\n    x -= this.slideableWidth;\n    this.shiftWrapCells( x );\n  }\n\n  this.setTranslateX( x, this.isAnimating );\n  this.dispatchScrollEvent();\n};\n\nproto.setTranslateX = function( x, is3d ) {\n  x += this.cursorPosition;\n  // reverse if right-to-left and using transform\n  x = this.options.rightToLeft ? -x : x;\n  var translateX = this.getPositionValue( x );\n  // use 3D transforms for hardware acceleration on iOS\n  // but use 2D when settled, for better font-rendering\n  this.slider.style.transform = is3d ?\n    'translate3d(' + translateX + ',0,0)' : 'translateX(' + translateX + ')';\n};\n\nproto.dispatchScrollEvent = function() {\n  var firstSlide = this.slides[0];\n  if ( !firstSlide ) {\n    return;\n  }\n  var positionX = -this.x - firstSlide.target;\n  var progress = positionX / this.slidesWidth;\n  this.dispatchEvent( 'scroll', null, [ progress, positionX ] );\n};\n\nproto.positionSliderAtSelected = function() {\n  if ( !this.cells.length ) {\n    return;\n  }\n  this.x = -this.selectedSlide.target;\n  this.velocity = 0; // stop wobble\n  this.positionSlider();\n};\n\nproto.getPositionValue = function( position ) {\n  if ( this.options.percentPosition ) {\n    // percent position, round to 2 digits, like 12.34%\n    return ( Math.round( ( position / this.size.innerWidth ) * 10000 ) * 0.01 ) + '%';\n  } else {\n    // pixel positioning\n    return Math.round( position ) + 'px';\n  }\n};\n\nproto.settle = function( previousX ) {\n  // keep track of frames where x hasn't moved\n  var isResting = !this.isPointerDown &&\n      Math.round( this.x * 100 ) == Math.round( previousX * 100 );\n  if ( isResting ) {\n    this.restingFrames++;\n  }\n  // stop animating if resting for 3 or more frames\n  if ( this.restingFrames > 2 ) {\n    this.isAnimating = false;\n    delete this.isFreeScrolling;\n    // render position with translateX when settled\n    this.positionSlider();\n    this.dispatchEvent( 'settle', null, [ this.selectedIndex ] );\n  }\n};\n\nproto.shiftWrapCells = function( x ) {\n  // shift before cells\n  var beforeGap = this.cursorPosition + x;\n  this._shiftCells( this.beforeShiftCells, beforeGap, -1 );\n  // shift after cells\n  var afterGap = this.size.innerWidth - ( x + this.slideableWidth + this.cursorPosition );\n  this._shiftCells( this.afterShiftCells, afterGap, 1 );\n};\n\nproto._shiftCells = function( cells, gap, shift ) {\n  for ( var i = 0; i < cells.length; i++ ) {\n    var cell = cells[i];\n    var cellShift = gap > 0 ? shift : 0;\n    cell.wrapShift( cellShift );\n    gap -= cell.size.outerWidth;\n  }\n};\n\nproto._unshiftCells = function( cells ) {\n  if ( !cells || !cells.length ) {\n    return;\n  }\n  for ( var i = 0; i < cells.length; i++ ) {\n    cells[i].wrapShift( 0 );\n  }\n};\n\n// -------------------------- physics -------------------------- //\n\nproto.integratePhysics = function() {\n  this.x += this.velocity;\n  this.velocity *= this.getFrictionFactor();\n};\n\nproto.applyForce = function( force ) {\n  this.velocity += force;\n};\n\nproto.getFrictionFactor = function() {\n  return 1 - this.options[ this.isFreeScrolling ? 'freeScrollFriction' : 'friction' ];\n};\n\nproto.getRestingPosition = function() {\n  // my thanks to Steven Wittens, who simplified this math greatly\n  return this.x + this.velocity / ( 1 - this.getFrictionFactor() );\n};\n\nproto.applyDragForce = function() {\n  if ( !this.isDraggable || !this.isPointerDown ) {\n    return;\n  }\n  // change the position to drag position by applying force\n  var dragVelocity = this.dragX - this.x;\n  var dragForce = dragVelocity - this.velocity;\n  this.applyForce( dragForce );\n};\n\nproto.applySelectedAttraction = function() {\n  // do not attract if pointer down or no slides\n  var dragDown = this.isDraggable && this.isPointerDown;\n  if ( dragDown || this.isFreeScrolling || !this.slides.length ) {\n    return;\n  }\n  var distance = this.selectedSlide.target * -1 - this.x;\n  var force = distance * this.options.selectedAttraction;\n  this.applyForce( force );\n};\n\nreturn proto;\n\n} ) );\n","// Flickity.Cell\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'get-size/get-size',\n    ], function( getSize ) {\n      return factory( window, getSize );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('get-size')\n    );\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Cell = factory(\n        window,\n        window.getSize\n    );\n  }\n\n}( window, function factory( window, getSize ) {\n\n'use strict';\n\nfunction Cell( elem, parent ) {\n  this.element = elem;\n  this.parent = parent;\n\n  this.create();\n}\n\nvar proto = Cell.prototype;\n\nproto.create = function() {\n  this.element.style.position = 'absolute';\n  this.element.setAttribute( 'aria-hidden', 'true' );\n  this.x = 0;\n  this.shift = 0;\n  this.element.style[ this.parent.originSide ] = 0;\n};\n\nproto.destroy = function() {\n  // reset style\n  this.unselect();\n  this.element.style.position = '';\n  var side = this.parent.originSide;\n  this.element.style[ side ] = '';\n  this.element.style.transform = '';\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\nproto.setPosition = function( x ) {\n  this.x = x;\n  this.updateTarget();\n  this.renderPosition( x );\n};\n\n// setDefaultTarget v1 method, backwards compatibility, remove in v3\nproto.updateTarget = proto.setDefaultTarget = function() {\n  var marginProperty = this.parent.originSide == 'left' ? 'marginLeft' : 'marginRight';\n  this.target = this.x + this.size[ marginProperty ] +\n    this.size.width * this.parent.cellAlign;\n};\n\nproto.renderPosition = function( x ) {\n  // render position of cell with in slider\n  var sideOffset = this.parent.originSide === 'left' ? 1 : -1;\n\n  var adjustedX = this.parent.options.percentPosition ?\n    x * sideOffset * ( this.parent.size.innerWidth / this.size.width ) :\n    x * sideOffset;\n\n  this.element.style.transform = 'translateX(' +\n    this.parent.getPositionValue( adjustedX ) + ')';\n};\n\nproto.select = function() {\n  this.element.classList.add('is-selected');\n  this.element.removeAttribute('aria-hidden');\n};\n\nproto.unselect = function() {\n  this.element.classList.remove('is-selected');\n  this.element.setAttribute( 'aria-hidden', 'true' );\n};\n\n/**\n * @param {Integer} shift - 0, 1, or -1\n */\nproto.wrapShift = function( shift ) {\n  this.shift = shift;\n  this.renderPosition( this.x + this.parent.slideableWidth * shift );\n};\n\nproto.remove = function() {\n  this.element.parentNode.removeChild( this.element );\n};\n\nreturn Cell;\n\n} ) );\n","// drag\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unidragger/unidragger',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, Unidragger, utils ) {\n      return factory( window, Flickity, Unidragger, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('unidragger'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Flickity = factory(\n        window,\n        window.Flickity,\n        window.Unidragger,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unidragger, utils ) {\n\n'use strict';\n\n// ----- defaults ----- //\n\nutils.extend( Flickity.defaults, {\n  draggable: '>1',\n  dragThreshold: 3,\n} );\n\n// ----- create ----- //\n\nFlickity.createMethods.push('_createDrag');\n\n// -------------------------- drag prototype -------------------------- //\n\nvar proto = Flickity.prototype;\nutils.extend( proto, Unidragger.prototype );\nproto._touchActionValue = 'pan-y';\n\n// --------------------------  -------------------------- //\n\nproto._createDrag = function() {\n  this.on( 'activate', this.onActivateDrag );\n  this.on( 'uiChange', this._uiChangeDrag );\n  this.on( 'deactivate', this.onDeactivateDrag );\n  this.on( 'cellChange', this.updateDraggable );\n  // TODO updateDraggable on resize? if groupCells & slides change\n};\n\nproto.onActivateDrag = function() {\n  this.handles = [ this.viewport ];\n  this.bindHandles();\n  this.updateDraggable();\n};\n\nproto.onDeactivateDrag = function() {\n  this.unbindHandles();\n  this.element.classList.remove('is-draggable');\n};\n\nproto.updateDraggable = function() {\n  // disable dragging if less than 2 slides. #278\n  if ( this.options.draggable == '>1' ) {\n    this.isDraggable = this.slides.length > 1;\n  } else {\n    this.isDraggable = this.options.draggable;\n  }\n  if ( this.isDraggable ) {\n    this.element.classList.add('is-draggable');\n  } else {\n    this.element.classList.remove('is-draggable');\n  }\n};\n\n// backwards compatibility\nproto.bindDrag = function() {\n  this.options.draggable = true;\n  this.updateDraggable();\n};\n\nproto.unbindDrag = function() {\n  this.options.draggable = false;\n  this.updateDraggable();\n};\n\nproto._uiChangeDrag = function() {\n  delete this.isFreeScrolling;\n};\n\n// -------------------------- pointer events -------------------------- //\n\nproto.pointerDown = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    this._pointerDownDefault( event, pointer );\n    return;\n  }\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n\n  this._pointerDownPreventDefault( event );\n  this.pointerDownFocus( event );\n  // blur\n  if ( document.activeElement != this.element ) {\n    // do not blur if already focused\n    this.pointerDownBlur();\n  }\n\n  // stop if it was moving\n  this.dragX = this.x;\n  this.viewport.classList.add('is-pointer-down');\n  // track scrolling\n  this.pointerDownScroll = getScrollPosition();\n  window.addEventListener( 'scroll', this );\n\n  this._pointerDownDefault( event, pointer );\n};\n\n// default pointerDown logic, used for staticClick\nproto._pointerDownDefault = function( event, pointer ) {\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. #779\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.dispatchEvent( 'pointerDown', event, [ pointer ] );\n};\n\nvar focusNodes = {\n  INPUT: true,\n  TEXTAREA: true,\n  SELECT: true,\n};\n\nproto.pointerDownFocus = function( event ) {\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isFocusNode ) {\n    this.focus();\n  }\n};\n\nproto._pointerDownPreventDefault = function( event ) {\n  var isTouchStart = event.type == 'touchstart';\n  var isTouchPointer = event.pointerType == 'touch';\n  var isFocusNode = focusNodes[ event.target.nodeName ];\n  if ( !isTouchStart && !isTouchPointer && !isFocusNode ) {\n    event.preventDefault();\n  }\n};\n\n// ----- move ----- //\n\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > this.options.dragThreshold;\n};\n\n// ----- up ----- //\n\nproto.pointerUp = function( event, pointer ) {\n  delete this.isTouchScrolling;\n  this.viewport.classList.remove('is-pointer-down');\n  this.dispatchEvent( 'pointerUp', event, [ pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto.pointerDone = function() {\n  window.removeEventListener( 'scroll', this );\n  delete this.pointerDownScroll;\n};\n\n// -------------------------- dragging -------------------------- //\n\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  this.dragStartPosition = this.x;\n  this.startAnimation();\n  window.removeEventListener( 'scroll', this );\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n};\n\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  event.preventDefault();\n\n  this.previousDragX = this.dragX;\n  // reverse if right-to-left\n  var direction = this.options.rightToLeft ? -1 : 1;\n  if ( this.options.wrapAround ) {\n    // wrap around move. #589\n    moveVector.x %= this.slideableWidth;\n  }\n  var dragX = this.dragStartPosition + moveVector.x * direction;\n\n  if ( !this.options.wrapAround && this.slides.length ) {\n    // slow drag\n    var originBound = Math.max( -this.slides[0].target, this.dragStartPosition );\n    dragX = dragX > originBound ? ( dragX + originBound ) * 0.5 : dragX;\n    var endBound = Math.min( -this.getLastSlide().target, this.dragStartPosition );\n    dragX = dragX < endBound ? ( dragX + endBound ) * 0.5 : dragX;\n  }\n\n  this.dragX = dragX;\n\n  this.dragMoveTime = new Date();\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isDraggable ) {\n    return;\n  }\n  if ( this.options.freeScroll ) {\n    this.isFreeScrolling = true;\n  }\n  // set selectedIndex based on where flick will end up\n  var index = this.dragEndRestingSelect();\n\n  if ( this.options.freeScroll && !this.options.wrapAround ) {\n    // if free-scroll & not wrap around\n    // do not free-scroll if going outside of bounding slides\n    // so bounding slides can attract slider, and keep it in bounds\n    var restingX = this.getRestingPosition();\n    this.isFreeScrolling = -restingX > this.slides[0].target &&\n      -restingX < this.getLastSlide().target;\n  } else if ( !this.options.freeScroll && index == this.selectedIndex ) {\n    // boost selection if selected index has not changed\n    index += this.dragEndBoostSelect();\n  }\n  delete this.previousDragX;\n  // apply selection\n  // TODO refactor this, selecting here feels weird\n  // HACK, set flag so dragging stays in correct direction\n  this.isDragSelect = this.options.wrapAround;\n  this.select( index );\n  delete this.isDragSelect;\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\nproto.dragEndRestingSelect = function() {\n  var restingX = this.getRestingPosition();\n  // how far away from selected slide\n  var distance = Math.abs( this.getSlideDistance( -restingX, this.selectedIndex ) );\n  // get closet resting going up and going down\n  var positiveResting = this._getClosestResting( restingX, distance, 1 );\n  var negativeResting = this._getClosestResting( restingX, distance, -1 );\n  // use closer resting for wrap-around\n  var index = positiveResting.distance < negativeResting.distance ?\n    positiveResting.index : negativeResting.index;\n  return index;\n};\n\n/**\n * given resting X and distance to selected cell\n * get the distance and index of the closest cell\n * @param {Number} restingX - estimated post-flick resting position\n * @param {Number} distance - distance to selected cell\n * @param {Integer} increment - +1 or -1, going up or down\n * @returns {Object} - { distance: {Number}, index: {Integer} }\n */\nproto._getClosestResting = function( restingX, distance, increment ) {\n  var index = this.selectedIndex;\n  var minDistance = Infinity;\n  var condition = this.options.contain && !this.options.wrapAround ?\n    // if contain, keep going if distance is equal to minDistance\n    function( dist, minDist ) {\n      return dist <= minDist;\n    } : function( dist, minDist ) {\n      return dist < minDist;\n    };\n  while ( condition( distance, minDistance ) ) {\n    // measure distance to next cell\n    index += increment;\n    minDistance = distance;\n    distance = this.getSlideDistance( -restingX, index );\n    if ( distance === null ) {\n      break;\n    }\n    distance = Math.abs( distance );\n  }\n  return {\n    distance: minDistance,\n    // selected was previous index\n    index: index - increment,\n  };\n};\n\n/**\n * measure distance between x and a slide target\n * @param {Number} x - horizontal position\n * @param {Integer} index - slide index\n * @returns {Number} - slide distance\n */\nproto.getSlideDistance = function( x, index ) {\n  var len = this.slides.length;\n  // wrap around if at least 2 slides\n  var isWrapAround = this.options.wrapAround && len > 1;\n  var slideIndex = isWrapAround ? utils.modulo( index, len ) : index;\n  var slide = this.slides[ slideIndex ];\n  if ( !slide ) {\n    return null;\n  }\n  // add distance for wrap-around slides\n  var wrap = isWrapAround ? this.slideableWidth * Math.floor( index/len ) : 0;\n  return x - ( slide.target + wrap );\n};\n\nproto.dragEndBoostSelect = function() {\n  // do not boost if no previousDragX or dragMoveTime\n  if ( this.previousDragX === undefined || !this.dragMoveTime ||\n    // or if drag was held for 100 ms\n    new Date() - this.dragMoveTime > 100 ) {\n    return 0;\n  }\n\n  var distance = this.getSlideDistance( -this.dragX, this.selectedIndex );\n  var delta = this.previousDragX - this.dragX;\n  if ( distance > 0 && delta > 0 ) {\n    // boost to next if moving towards the right, and positive velocity\n    return 1;\n  } else if ( distance < 0 && delta < 0 ) {\n    // boost to previous if moving towards the left, and negative velocity\n    return -1;\n  }\n  return 0;\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  // get clickedCell, if cell was clicked\n  var clickedCell = this.getParentCell( event.target );\n  var cellElem = clickedCell && clickedCell.element;\n  var cellIndex = clickedCell && this.cells.indexOf( clickedCell );\n  this.dispatchEvent( 'staticClick', event, [ pointer, cellElem, cellIndex ] );\n};\n\n// ----- scroll ----- //\n\nproto.onscroll = function() {\n  var scroll = getScrollPosition();\n  var scrollMoveX = this.pointerDownScroll.x - scroll.x;\n  var scrollMoveY = this.pointerDownScroll.y - scroll.y;\n  // cancel click/tap if scroll is too much\n  if ( Math.abs( scrollMoveX ) > 3 || Math.abs( scrollMoveY ) > 3 ) {\n    this._pointerDone();\n  }\n};\n\n// ----- utils ----- //\n\nfunction getScrollPosition() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset,\n  };\n}\n\n// -----  ----- //\n\nreturn Flickity;\n\n} ) );\n","// Flickity main\n/* eslint-disable max-params */\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'get-size/get-size',\n      'fizzy-ui-utils/utils',\n      './cell',\n      './slide',\n      './animate',\n    ], function( EvEmitter, getSize, utils, Cell, Slide, animatePrototype ) {\n      return factory( window, EvEmitter, getSize, utils, Cell, Slide, animatePrototype );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('ev-emitter'),\n        require('get-size'),\n        require('fizzy-ui-utils'),\n        require('./cell'),\n        require('./slide'),\n        require('./animate')\n    );\n  } else {\n    // browser global\n    var _Flickity = window.Flickity;\n\n    window.Flickity = factory(\n        window,\n        window.EvEmitter,\n        window.getSize,\n        window.fizzyUIUtils,\n        _Flickity.Cell,\n        _Flickity.Slide,\n        _Flickity.animatePrototype\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize,\n    utils, Cell, Slide, animatePrototype ) {\n\n/* eslint-enable max-params */\n'use strict';\n\n// vars\nvar jQuery = window.jQuery;\nvar getComputedStyle = window.getComputedStyle;\nvar console = window.console;\n\nfunction moveElements( elems, toElem ) {\n  elems = utils.makeArray( elems );\n  while ( elems.length ) {\n    toElem.appendChild( elems.shift() );\n  }\n}\n\n// -------------------------- Flickity -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Flickity intances\nvar instances = {};\n\nfunction Flickity( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for Flickity: ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // do not initialize twice on same element\n  if ( this.element.flickityGUID ) {\n    var instance = instances[ this.element.flickityGUID ];\n    if ( instance ) instance.option( options );\n    return instance;\n  }\n\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // kick things off\n  this._create();\n}\n\nFlickity.defaults = {\n  accessibility: true,\n  // adaptiveHeight: false,\n  cellAlign: 'center',\n  // cellSelector: undefined,\n  // contain: false,\n  freeScrollFriction: 0.075, // friction when free-scrolling\n  friction: 0.28, // friction when selecting\n  namespaceJQueryEvents: true,\n  // initialIndex: 0,\n  percentPosition: true,\n  resize: true,\n  selectedAttraction: 0.025,\n  setGallerySize: true,\n  // watchCSS: false,\n  // wrapAround: false\n};\n\n// hash of methods triggered on _create()\nFlickity.createMethods = [];\n\nvar proto = Flickity.prototype;\n// inherit EventEmitter\nutils.extend( proto, EvEmitter.prototype );\n\nproto._create = function() {\n  // add id for Flickity.data\n  var id = this.guid = ++GUID;\n  this.element.flickityGUID = id; // expando\n  instances[ id ] = this; // associate via id\n  // initial properties\n  this.selectedIndex = 0;\n  // how many frames slider has been in same position\n  this.restingFrames = 0;\n  // initial physics properties\n  this.x = 0;\n  this.velocity = 0;\n  this.originSide = this.options.rightToLeft ? 'right' : 'left';\n  // create viewport & slider\n  this.viewport = document.createElement('div');\n  this.viewport.className = 'flickity-viewport';\n  this._createSlider();\n\n  if ( this.options.resize || this.options.watchCSS ) {\n    window.addEventListener( 'resize', this );\n  }\n\n  // add listeners from on option\n  for ( var eventName in this.options.on ) {\n    var listener = this.options.on[ eventName ];\n    this.on( eventName, listener );\n  }\n\n  Flickity.createMethods.forEach( function( method ) {\n    this[ method ]();\n  }, this );\n\n  if ( this.options.watchCSS ) {\n    this.watchCSS();\n  } else {\n    this.activate();\n  }\n\n};\n\n/**\n * set options\n * @param {Object} opts - options to extend\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nproto.activate = function() {\n  if ( this.isActive ) {\n    return;\n  }\n  this.isActive = true;\n  this.element.classList.add('flickity-enabled');\n  if ( this.options.rightToLeft ) {\n    this.element.classList.add('flickity-rtl');\n  }\n\n  this.getSize();\n  // move initial cell elements so they can be loaded as cells\n  var cellElems = this._filterFindCellElements( this.element.children );\n  moveElements( cellElems, this.slider );\n  this.viewport.appendChild( this.slider );\n  this.element.appendChild( this.viewport );\n  // get cells from children\n  this.reloadCells();\n\n  if ( this.options.accessibility ) {\n    // allow element to focusable\n    this.element.tabIndex = 0;\n    // listen for key presses\n    this.element.addEventListener( 'keydown', this );\n  }\n\n  this.emitEvent('activate');\n  this.selectInitialIndex();\n  // flag for initial activation, for using initialIndex\n  this.isInitActivated = true;\n  // ready event. #493\n  this.dispatchEvent('ready');\n};\n\n// slider positions the cells\nproto._createSlider = function() {\n  // slider element does all the positioning\n  var slider = document.createElement('div');\n  slider.className = 'flickity-slider';\n  slider.style[ this.originSide ] = 0;\n  this.slider = slider;\n};\n\nproto._filterFindCellElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.cellSelector );\n};\n\n// goes through all children\nproto.reloadCells = function() {\n  // collection of item elements\n  this.cells = this._makeCells( this.slider.children );\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n};\n\n/**\n * turn elements into Flickity.Cells\n * @param {[Array, NodeList, HTMLElement]} elems - elements to make into cells\n * @returns {Array} items - collection of new Flickity Cells\n */\nproto._makeCells = function( elems ) {\n  var cellElems = this._filterFindCellElements( elems );\n\n  // create new Flickity for collection\n  var cells = cellElems.map( function( cellElem ) {\n    return new Cell( cellElem, this );\n  }, this );\n\n  return cells;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.getLastSlide = function() {\n  return this.slides[ this.slides.length - 1 ];\n};\n\n// positions all cells\nproto.positionCells = function() {\n  // size all cells\n  this._sizeCells( this.cells );\n  // position all cells\n  this._positionCells( 0 );\n};\n\n/**\n * position certain cells\n * @param {Integer} index - which cell to start with\n */\nproto._positionCells = function( index ) {\n  index = index || 0;\n  // also measure maxCellHeight\n  // start 0 if positioning all cells\n  this.maxCellHeight = index ? this.maxCellHeight || 0 : 0;\n  var cellX = 0;\n  // get cellX\n  if ( index > 0 ) {\n    var startCell = this.cells[ index - 1 ];\n    cellX = startCell.x + startCell.size.outerWidth;\n  }\n  var len = this.cells.length;\n  for ( var i = index; i < len; i++ ) {\n    var cell = this.cells[i];\n    cell.setPosition( cellX );\n    cellX += cell.size.outerWidth;\n    this.maxCellHeight = Math.max( cell.size.outerHeight, this.maxCellHeight );\n  }\n  // keep track of cellX for wrap-around\n  this.slideableWidth = cellX;\n  // slides\n  this.updateSlides();\n  // contain slides target\n  this._containSlides();\n  // update slidesWidth\n  this.slidesWidth = len ? this.getLastSlide().target - this.slides[0].target : 0;\n};\n\n/**\n * cell.getSize() on multiple cells\n * @param {Array} cells - cells to size\n */\nproto._sizeCells = function( cells ) {\n  cells.forEach( function( cell ) {\n    cell.getSize();\n  } );\n};\n\n// --------------------------  -------------------------- //\n\nproto.updateSlides = function() {\n  this.slides = [];\n  if ( !this.cells.length ) {\n    return;\n  }\n\n  var slide = new Slide( this );\n  this.slides.push( slide );\n  var isOriginLeft = this.originSide == 'left';\n  var nextMargin = isOriginLeft ? 'marginRight' : 'marginLeft';\n\n  var canCellFit = this._getCanCellFit();\n\n  this.cells.forEach( function( cell, i ) {\n    // just add cell if first cell in slide\n    if ( !slide.cells.length ) {\n      slide.addCell( cell );\n      return;\n    }\n\n    var slideWidth = ( slide.outerWidth - slide.firstMargin ) +\n      ( cell.size.outerWidth - cell.size[ nextMargin ] );\n\n    if ( canCellFit.call( this, i, slideWidth ) ) {\n      slide.addCell( cell );\n    } else {\n      // doesn't fit, new slide\n      slide.updateTarget();\n\n      slide = new Slide( this );\n      this.slides.push( slide );\n      slide.addCell( cell );\n    }\n  }, this );\n  // last slide\n  slide.updateTarget();\n  // update .selectedSlide\n  this.updateSelectedSlide();\n};\n\nproto._getCanCellFit = function() {\n  var groupCells = this.options.groupCells;\n  if ( !groupCells ) {\n    return function() {\n      return false;\n    };\n  } else if ( typeof groupCells == 'number' ) {\n    // group by number. 3 -> [0,1,2], [3,4,5], ...\n    var number = parseInt( groupCells, 10 );\n    return function( i ) {\n      return ( i % number ) !== 0;\n    };\n  }\n  // default, group by width of slide\n  // parse '75%\n  var percentMatch = typeof groupCells == 'string' &&\n    groupCells.match( /^(\\d+)%$/ );\n  var percent = percentMatch ? parseInt( percentMatch[1], 10 ) / 100 : 1;\n  return function( i, slideWidth ) {\n    /* eslint-disable-next-line no-invalid-this */\n    return slideWidth <= ( this.size.innerWidth + 1 ) * percent;\n  };\n};\n\n// alias _init for jQuery plugin .flickity()\nproto._init =\nproto.reposition = function() {\n  this.positionCells();\n  this.positionSliderAtSelected();\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n  this.setCellAlign();\n  this.cursorPosition = this.size.innerWidth * this.cellAlign;\n};\n\nvar cellAlignShorthands = {\n  // cell align, then based on origin side\n  center: {\n    left: 0.5,\n    right: 0.5,\n  },\n  left: {\n    left: 0,\n    right: 1,\n  },\n  right: {\n    right: 0,\n    left: 1,\n  },\n};\n\nproto.setCellAlign = function() {\n  var shorthand = cellAlignShorthands[ this.options.cellAlign ];\n  this.cellAlign = shorthand ? shorthand[ this.originSide ] : this.options.cellAlign;\n};\n\nproto.setGallerySize = function() {\n  if ( this.options.setGallerySize ) {\n    var height = this.options.adaptiveHeight && this.selectedSlide ?\n      this.selectedSlide.height : this.maxCellHeight;\n    this.viewport.style.height = height + 'px';\n  }\n};\n\nproto._getWrapShiftCells = function() {\n  // only for wrap-around\n  if ( !this.options.wrapAround ) {\n    return;\n  }\n  // unshift previous cells\n  this._unshiftCells( this.beforeShiftCells );\n  this._unshiftCells( this.afterShiftCells );\n  // get before cells\n  // initial gap\n  var gapX = this.cursorPosition;\n  var cellIndex = this.cells.length - 1;\n  this.beforeShiftCells = this._getGapCells( gapX, cellIndex, -1 );\n  // get after cells\n  // ending gap between last cell and end of gallery viewport\n  gapX = this.size.innerWidth - this.cursorPosition;\n  // start cloning at first cell, working forwards\n  this.afterShiftCells = this._getGapCells( gapX, 0, 1 );\n};\n\nproto._getGapCells = function( gapX, cellIndex, increment ) {\n  // keep adding cells until the cover the initial gap\n  var cells = [];\n  while ( gapX > 0 ) {\n    var cell = this.cells[ cellIndex ];\n    if ( !cell ) {\n      break;\n    }\n    cells.push( cell );\n    cellIndex += increment;\n    gapX -= cell.size.outerWidth;\n  }\n  return cells;\n};\n\n// ----- contain ----- //\n\n// contain cell targets so no excess sliding\nproto._containSlides = function() {\n  if ( !this.options.contain || this.options.wrapAround || !this.cells.length ) {\n    return;\n  }\n  var isRightToLeft = this.options.rightToLeft;\n  var beginMargin = isRightToLeft ? 'marginRight' : 'marginLeft';\n  var endMargin = isRightToLeft ? 'marginLeft' : 'marginRight';\n  var contentWidth = this.slideableWidth - this.getLastCell().size[ endMargin ];\n  // content is less than gallery size\n  var isContentSmaller = contentWidth < this.size.innerWidth;\n  // bounds\n  var beginBound = this.cursorPosition + this.cells[0].size[ beginMargin ];\n  var endBound = contentWidth - this.size.innerWidth * ( 1 - this.cellAlign );\n  // contain each cell target\n  this.slides.forEach( function( slide ) {\n    if ( isContentSmaller ) {\n      // all cells fit inside gallery\n      slide.target = contentWidth * this.cellAlign;\n    } else {\n      // contain to bounds\n      slide.target = Math.max( slide.target, beginBound );\n      slide.target = Math.min( slide.target, endBound );\n    }\n  }, this );\n};\n\n// -----  ----- //\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery && this.$element ) {\n    // default trigger with type if no event\n    type += this.options.namespaceJQueryEvents ? '.flickity' : '';\n    var $event = type;\n    if ( event ) {\n      // create jQuery event\n      var jQEvent = new jQuery.Event( event );\n      jQEvent.type = type;\n      $event = jQEvent;\n    }\n    this.$element.trigger( $event, args );\n  }\n};\n\n// -------------------------- select -------------------------- //\n\n/**\n * @param {Integer} index - index of the slide\n * @param {Boolean} isWrap - will wrap-around to last/first if at the end\n * @param {Boolean} isInstant - will immediately set position at selected cell\n */\nproto.select = function( index, isWrap, isInstant ) {\n  if ( !this.isActive ) {\n    return;\n  }\n  index = parseInt( index, 10 );\n  this._wrapSelect( index );\n\n  if ( this.options.wrapAround || isWrap ) {\n    index = utils.modulo( index, this.slides.length );\n  }\n  // bail if invalid index\n  if ( !this.slides[ index ] ) {\n    return;\n  }\n  var prevIndex = this.selectedIndex;\n  this.selectedIndex = index;\n  this.updateSelectedSlide();\n  if ( isInstant ) {\n    this.positionSliderAtSelected();\n  } else {\n    this.startAnimation();\n  }\n  if ( this.options.adaptiveHeight ) {\n    this.setGallerySize();\n  }\n  // events\n  this.dispatchEvent( 'select', null, [ index ] );\n  // change event if new index\n  if ( index != prevIndex ) {\n    this.dispatchEvent( 'change', null, [ index ] );\n  }\n  // old v1 event name, remove in v3\n  this.dispatchEvent('cellSelect');\n};\n\n// wraps position for wrapAround, to move to closest slide. #113\nproto._wrapSelect = function( index ) {\n  var len = this.slides.length;\n  var isWrapping = this.options.wrapAround && len > 1;\n  if ( !isWrapping ) {\n    return index;\n  }\n  var wrapIndex = utils.modulo( index, len );\n  // go to shortest\n  var delta = Math.abs( wrapIndex - this.selectedIndex );\n  var backWrapDelta = Math.abs( ( wrapIndex + len ) - this.selectedIndex );\n  var forewardWrapDelta = Math.abs( ( wrapIndex - len ) - this.selectedIndex );\n  if ( !this.isDragSelect && backWrapDelta < delta ) {\n    index += len;\n  } else if ( !this.isDragSelect && forewardWrapDelta < delta ) {\n    index -= len;\n  }\n  // wrap position so slider is within normal area\n  if ( index < 0 ) {\n    this.x -= this.slideableWidth;\n  } else if ( index >= len ) {\n    this.x += this.slideableWidth;\n  }\n};\n\nproto.previous = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex - 1, isWrap, isInstant );\n};\n\nproto.next = function( isWrap, isInstant ) {\n  this.select( this.selectedIndex + 1, isWrap, isInstant );\n};\n\nproto.updateSelectedSlide = function() {\n  var slide = this.slides[ this.selectedIndex ];\n  // selectedIndex could be outside of slides, if triggered before resize()\n  if ( !slide ) {\n    return;\n  }\n  // unselect previous selected slide\n  this.unselectSelectedSlide();\n  // update new selected slide\n  this.selectedSlide = slide;\n  slide.select();\n  this.selectedCells = slide.cells;\n  this.selectedElements = slide.getCellElements();\n  // HACK: selectedCell & selectedElement is first cell in slide, backwards compatibility\n  // Remove in v3?\n  this.selectedCell = slide.cells[0];\n  this.selectedElement = this.selectedElements[0];\n};\n\nproto.unselectSelectedSlide = function() {\n  if ( this.selectedSlide ) {\n    this.selectedSlide.unselect();\n  }\n};\n\nproto.selectInitialIndex = function() {\n  var initialIndex = this.options.initialIndex;\n  // already activated, select previous selectedIndex\n  if ( this.isInitActivated ) {\n    this.select( this.selectedIndex, false, true );\n    return;\n  }\n  // select with selector string\n  if ( initialIndex && typeof initialIndex == 'string' ) {\n    var cell = this.queryCell( initialIndex );\n    if ( cell ) {\n      this.selectCell( initialIndex, false, true );\n      return;\n    }\n  }\n\n  var index = 0;\n  // select with number\n  if ( initialIndex && this.slides[ initialIndex ] ) {\n    index = initialIndex;\n  }\n  // select instantly\n  this.select( index, false, true );\n};\n\n/**\n * select slide from number or cell element\n * @param {[Element, Number]} value - zero-based index or element to select\n * @param {Boolean} isWrap - enables wrapping around for extra index\n * @param {Boolean} isInstant - disables slide animation\n */\nproto.selectCell = function( value, isWrap, isInstant ) {\n  // get cell\n  var cell = this.queryCell( value );\n  if ( !cell ) {\n    return;\n  }\n\n  var index = this.getCellSlideIndex( cell );\n  this.select( index, isWrap, isInstant );\n};\n\nproto.getCellSlideIndex = function( cell ) {\n  // get index of slides that has cell\n  for ( var i = 0; i < this.slides.length; i++ ) {\n    var slide = this.slides[i];\n    var index = slide.cells.indexOf( cell );\n    if ( index != -1 ) {\n      return i;\n    }\n  }\n};\n\n// -------------------------- get cells -------------------------- //\n\n/**\n * get Flickity.Cell, given an Element\n * @param {Element} elem - matching cell element\n * @returns {Flickity.Cell} cell - matching cell\n */\nproto.getCell = function( elem ) {\n  // loop through cells to get the one that matches\n  for ( var i = 0; i < this.cells.length; i++ ) {\n    var cell = this.cells[i];\n    if ( cell.element == elem ) {\n      return cell;\n    }\n  }\n};\n\n/**\n * get collection of Flickity.Cells, given Elements\n * @param {[Element, Array, NodeList]} elems - multiple elements\n * @returns {Array} cells - Flickity.Cells\n */\nproto.getCells = function( elems ) {\n  elems = utils.makeArray( elems );\n  var cells = [];\n  elems.forEach( function( elem ) {\n    var cell = this.getCell( elem );\n    if ( cell ) {\n      cells.push( cell );\n    }\n  }, this );\n  return cells;\n};\n\n/**\n * get cell elements\n * @returns {Array} cellElems\n */\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  } );\n};\n\n/**\n * get parent cell from an element\n * @param {Element} elem - child element\n * @returns {Flickit.Cell} cell - parent cell\n */\nproto.getParentCell = function( elem ) {\n  // first check if elem is cell\n  var cell = this.getCell( elem );\n  if ( cell ) {\n    return cell;\n  }\n  // try to get parent cell elem\n  elem = utils.getParent( elem, '.flickity-slider > *' );\n  return this.getCell( elem );\n};\n\n/**\n * get cells adjacent to a slide\n * @param {Integer} adjCount - number of adjacent slides\n * @param {Integer} index - index of slide to start\n * @returns {Array} cells - array of Flickity.Cells\n */\nproto.getAdjacentCellElements = function( adjCount, index ) {\n  if ( !adjCount ) {\n    return this.selectedSlide.getCellElements();\n  }\n  index = index === undefined ? this.selectedIndex : index;\n\n  var len = this.slides.length;\n  if ( 1 + ( adjCount * 2 ) >= len ) {\n    return this.getCellElements();\n  }\n\n  var cellElems = [];\n  for ( var i = index - adjCount; i <= index + adjCount; i++ ) {\n    var slideIndex = this.options.wrapAround ? utils.modulo( i, len ) : i;\n    var slide = this.slides[ slideIndex ];\n    if ( slide ) {\n      cellElems = cellElems.concat( slide.getCellElements() );\n    }\n  }\n  return cellElems;\n};\n\n/**\n * select slide from number or cell element\n * @param {[Element, String, Number]} selector - element, selector string, or index\n * @returns {Flickity.Cell} - matching cell\n */\nproto.queryCell = function( selector ) {\n  if ( typeof selector == 'number' ) {\n    // use number as index\n    return this.cells[ selector ];\n  }\n  if ( typeof selector == 'string' ) {\n    // do not select invalid selectors from hash: #123, #/. #791\n    if ( selector.match( /^[#.]?[\\d/]/ ) ) {\n      return;\n    }\n    // use string as selector, get element\n    selector = this.element.querySelector( selector );\n  }\n  // get cell from element\n  return this.getCell( selector );\n};\n\n// -------------------------- events -------------------------- //\n\nproto.uiChange = function() {\n  this.emitEvent('uiChange');\n};\n\n// keep focus on element when child UI elements are clicked\nproto.childUIPointerDown = function( event ) {\n  // HACK iOS does not allow touch events to bubble up?!\n  if ( event.type != 'touchstart' ) {\n    event.preventDefault();\n  }\n  this.focus();\n};\n\n// ----- resize ----- //\n\nproto.onresize = function() {\n  this.watchCSS();\n  this.resize();\n};\n\nutils.debounceMethod( Flickity, 'onresize', 150 );\n\nproto.resize = function() {\n  // #1177 disable resize behavior when animating or dragging for iOS 15\n  if ( !this.isActive || this.isAnimating || this.isDragging ) {\n    return;\n  }\n  this.getSize();\n  // wrap values\n  if ( this.options.wrapAround ) {\n    this.x = utils.modulo( this.x, this.slideableWidth );\n  }\n  this.positionCells();\n  this._getWrapShiftCells();\n  this.setGallerySize();\n  this.emitEvent('resize');\n  // update selected index for group slides, instant\n  // TODO: position can be lost between groups of various numbers\n  var selectedElement = this.selectedElements && this.selectedElements[0];\n  this.selectCell( selectedElement, false, true );\n};\n\n// watches the :after property, activates/deactivates\nproto.watchCSS = function() {\n  var watchOption = this.options.watchCSS;\n  if ( !watchOption ) {\n    return;\n  }\n\n  var afterContent = getComputedStyle( this.element, ':after' ).content;\n  // activate if :after { content: 'flickity' }\n  if ( afterContent.indexOf('flickity') != -1 ) {\n    this.activate();\n  } else {\n    this.deactivate();\n  }\n};\n\n// ----- keydown ----- //\n\n// go previous/next if left/right keys pressed\nproto.onkeydown = function( event ) {\n  // only work if element is in focus\n  var isNotFocused = document.activeElement && document.activeElement != this.element;\n  if ( !this.options.accessibility || isNotFocused ) {\n    return;\n  }\n\n  var handler = Flickity.keyboardHandlers[ event.keyCode ];\n  if ( handler ) {\n    handler.call( this );\n  }\n};\n\nFlickity.keyboardHandlers = {\n  // left arrow\n  37: function() {\n    var leftMethod = this.options.rightToLeft ? 'next' : 'previous';\n    this.uiChange();\n    this[ leftMethod ]();\n  },\n  // right arrow\n  39: function() {\n    var rightMethod = this.options.rightToLeft ? 'previous' : 'next';\n    this.uiChange();\n    this[ rightMethod ]();\n  },\n};\n\n// ----- focus ----- //\n\nproto.focus = function() {\n  // TODO remove scrollTo once focus options gets more support\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus ...\n  //    #Browser_compatibility\n  var prevScrollY = window.pageYOffset;\n  this.element.focus({ preventScroll: true });\n  // hack to fix scroll jump after focus, #76\n  if ( window.pageYOffset != prevScrollY ) {\n    window.scrollTo( window.pageXOffset, prevScrollY );\n  }\n};\n\n// -------------------------- destroy -------------------------- //\n\n// deactivate all Flickity functionality, but keep stuff available\nproto.deactivate = function() {\n  if ( !this.isActive ) {\n    return;\n  }\n  this.element.classList.remove('flickity-enabled');\n  this.element.classList.remove('flickity-rtl');\n  this.unselectSelectedSlide();\n  // destroy cells\n  this.cells.forEach( function( cell ) {\n    cell.destroy();\n  } );\n  this.element.removeChild( this.viewport );\n  // move child elements back into element\n  moveElements( this.slider.children, this.element );\n  if ( this.options.accessibility ) {\n    this.element.removeAttribute('tabIndex');\n    this.element.removeEventListener( 'keydown', this );\n  }\n  // set flags\n  this.isActive = false;\n  this.emitEvent('deactivate');\n};\n\nproto.destroy = function() {\n  this.deactivate();\n  window.removeEventListener( 'resize', this );\n  this.allOff();\n  this.emitEvent('destroy');\n  if ( jQuery && this.$element ) {\n    jQuery.removeData( this.element, 'flickity' );\n  }\n  delete this.element.flickityGUID;\n  delete instances[ this.guid ];\n};\n\n// -------------------------- prototype -------------------------- //\n\nutils.extend( proto, animatePrototype );\n\n// -------------------------- extras -------------------------- //\n\n/**\n * get Flickity instance from element\n * @param {[Element, String]} elem - element or selector string\n * @returns {Flickity} - Flickity instance\n */\nFlickity.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.flickityGUID;\n  return id && instances[ id ];\n};\n\nutils.htmlInit( Flickity, 'flickity' );\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'flickity', Flickity );\n}\n\n// set internal jQuery, for Webpack + jQuery v3, #478\nFlickity.setJQuery = function( jq ) {\n  jQuery = jq;\n};\n\nFlickity.Cell = Cell;\nFlickity.Slide = Slide;\n\nreturn Flickity;\n\n} ) );\n","/*!\n * Flickity v2.3.0\n * Touch, responsive, flickable carousels\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * https://flickity.metafizzy.co\n * Copyright 2015-2021 Metafizzy\n */\n\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      './drag',\n      './prev-next-button',\n      './page-dots',\n      './player',\n      './add-remove-cell',\n      './lazyload',\n    ], factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('./flickity'),\n        require('./drag'),\n        require('./prev-next-button'),\n        require('./page-dots'),\n        require('./player'),\n        require('./add-remove-cell'),\n        require('./lazyload')\n    );\n  }\n\n} )( window, function factory( Flickity ) {\n  return Flickity;\n} );\n","// lazyload\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, utils ) {\n      return factory( window, Flickity, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, utils ) {\n'use strict';\n\nFlickity.createMethods.push('_createLazyload');\nvar proto = Flickity.prototype;\n\nproto._createLazyload = function() {\n  this.on( 'select', this.lazyLoad );\n};\n\nproto.lazyLoad = function() {\n  var lazyLoad = this.options.lazyLoad;\n  if ( !lazyLoad ) {\n    return;\n  }\n  // get adjacent cells, use lazyLoad option for adjacent count\n  var adjCount = typeof lazyLoad == 'number' ? lazyLoad : 0;\n  var cellElems = this.getAdjacentCellElements( adjCount );\n  // get lazy images in those cells\n  var lazyImages = [];\n  cellElems.forEach( function( cellElem ) {\n    var lazyCellImages = getCellLazyImages( cellElem );\n    lazyImages = lazyImages.concat( lazyCellImages );\n  } );\n  // load lazy images\n  lazyImages.forEach( function( img ) {\n    new LazyLoader( img, this );\n  }, this );\n};\n\nfunction getCellLazyImages( cellElem ) {\n  // check if cell element is lazy image\n  if ( cellElem.nodeName == 'IMG' ) {\n    var lazyloadAttr = cellElem.getAttribute('data-flickity-lazyload');\n    var srcAttr = cellElem.getAttribute('data-flickity-lazyload-src');\n    var srcsetAttr = cellElem.getAttribute('data-flickity-lazyload-srcset');\n    if ( lazyloadAttr || srcAttr || srcsetAttr ) {\n      return [ cellElem ];\n    }\n  }\n  // select lazy images in cell\n  var lazySelector = 'img[data-flickity-lazyload], ' +\n    'img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]';\n  var imgs = cellElem.querySelectorAll( lazySelector );\n  return utils.makeArray( imgs );\n}\n\n// -------------------------- LazyLoader -------------------------- //\n\n/**\n * class to handle loading images\n * @param {Image} img - Image element\n * @param {Flickity} flickity - Flickity instance\n */\nfunction LazyLoader( img, flickity ) {\n  this.img = img;\n  this.flickity = flickity;\n  this.load();\n}\n\nLazyLoader.prototype.handleEvent = utils.handleEvent;\n\nLazyLoader.prototype.load = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  // get src & srcset\n  var src = this.img.getAttribute('data-flickity-lazyload') ||\n    this.img.getAttribute('data-flickity-lazyload-src');\n  var srcset = this.img.getAttribute('data-flickity-lazyload-srcset');\n  // set src & serset\n  this.img.src = src;\n  if ( srcset ) {\n    this.img.setAttribute( 'srcset', srcset );\n  }\n  // remove attr\n  this.img.removeAttribute('data-flickity-lazyload');\n  this.img.removeAttribute('data-flickity-lazyload-src');\n  this.img.removeAttribute('data-flickity-lazyload-srcset');\n};\n\nLazyLoader.prototype.onload = function( event ) {\n  this.complete( event, 'flickity-lazyloaded' );\n};\n\nLazyLoader.prototype.onerror = function( event ) {\n  this.complete( event, 'flickity-lazyerror' );\n};\n\nLazyLoader.prototype.complete = function( event, className ) {\n  // unbind events\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n\n  var cell = this.flickity.getParentCell( this.img );\n  var cellElem = cell && cell.element;\n  this.flickity.cellSizeChange( cellElem );\n\n  this.img.classList.add( className );\n  this.flickity.dispatchEvent( 'lazyLoad', event, cellElem );\n};\n\n// -----  ----- //\n\nFlickity.LazyLoader = LazyLoader;\n\nreturn Flickity;\n\n} ) );\n","// page dots\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('unipointer'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.Unipointer,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n\n// -------------------------- PageDots -------------------------- //\n\n'use strict';\n\nfunction PageDots( parent ) {\n  this.parent = parent;\n  this._create();\n}\n\nPageDots.prototype = Object.create( Unipointer.prototype );\n\nPageDots.prototype._create = function() {\n  // create holder element\n  this.holder = document.createElement('ol');\n  this.holder.className = 'flickity-page-dots';\n  // create dots, array of elements\n  this.dots = [];\n  // events\n  this.handleClick = this.onClick.bind( this );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPageDots.prototype.activate = function() {\n  this.setDots();\n  this.holder.addEventListener( 'click', this.handleClick );\n  this.bindStartEvent( this.holder );\n  // add to DOM\n  this.parent.element.appendChild( this.holder );\n};\n\nPageDots.prototype.deactivate = function() {\n  this.holder.removeEventListener( 'click', this.handleClick );\n  this.unbindStartEvent( this.holder );\n  // remove from DOM\n  this.parent.element.removeChild( this.holder );\n};\n\nPageDots.prototype.setDots = function() {\n  // get difference between number of slides and number of dots\n  var delta = this.parent.slides.length - this.dots.length;\n  if ( delta > 0 ) {\n    this.addDots( delta );\n  } else if ( delta < 0 ) {\n    this.removeDots( -delta );\n  }\n};\n\nPageDots.prototype.addDots = function( count ) {\n  var fragment = document.createDocumentFragment();\n  var newDots = [];\n  var length = this.dots.length;\n  var max = length + count;\n\n  for ( var i = length; i < max; i++ ) {\n    var dot = document.createElement('li');\n    dot.className = 'dot';\n    dot.setAttribute( 'aria-label', 'Page dot ' + ( i + 1 ) );\n    fragment.appendChild( dot );\n    newDots.push( dot );\n  }\n\n  this.holder.appendChild( fragment );\n  this.dots = this.dots.concat( newDots );\n};\n\nPageDots.prototype.removeDots = function( count ) {\n  // remove from this.dots collection\n  var removeDots = this.dots.splice( this.dots.length - count, count );\n  // remove from DOM\n  removeDots.forEach( function( dot ) {\n    this.holder.removeChild( dot );\n  }, this );\n};\n\nPageDots.prototype.updateSelected = function() {\n  // remove selected class on previous\n  if ( this.selectedDot ) {\n    this.selectedDot.className = 'dot';\n    this.selectedDot.removeAttribute('aria-current');\n  }\n  // don't proceed if no dots\n  if ( !this.dots.length ) {\n    return;\n  }\n  this.selectedDot = this.dots[ this.parent.selectedIndex ];\n  this.selectedDot.className = 'dot is-selected';\n  this.selectedDot.setAttribute( 'aria-current', 'step' );\n};\n\nPageDots.prototype.onTap = // old method name, backwards-compatible\nPageDots.prototype.onClick = function( event ) {\n  var target = event.target;\n  // only care about dot clicks\n  if ( target.nodeName != 'LI' ) {\n    return;\n  }\n\n  this.parent.uiChange();\n  var index = this.dots.indexOf( target );\n  this.parent.select( index );\n};\n\nPageDots.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\nFlickity.PageDots = PageDots;\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pageDots: true,\n} );\n\nFlickity.createMethods.push('_createPageDots');\n\nvar proto = Flickity.prototype;\n\nproto._createPageDots = function() {\n  if ( !this.options.pageDots ) {\n    return;\n  }\n  this.pageDots = new PageDots( this );\n  // events\n  this.on( 'activate', this.activatePageDots );\n  this.on( 'select', this.updateSelectedPageDots );\n  this.on( 'cellChange', this.updatePageDots );\n  this.on( 'resize', this.updatePageDots );\n  this.on( 'deactivate', this.deactivatePageDots );\n};\n\nproto.activatePageDots = function() {\n  this.pageDots.activate();\n};\n\nproto.updateSelectedPageDots = function() {\n  this.pageDots.updateSelected();\n};\n\nproto.updatePageDots = function() {\n  this.pageDots.setDots();\n};\n\nproto.deactivatePageDots = function() {\n  this.pageDots.deactivate();\n};\n\n// -----  ----- //\n\nFlickity.PageDots = PageDots;\n\nreturn Flickity;\n\n} ) );\n","// player & autoPlay\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter',\n      'fizzy-ui-utils/utils',\n      './flickity',\n    ], function( EvEmitter, utils, Flickity ) {\n      return factory( EvEmitter, utils, Flickity );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        require('ev-emitter'),\n        require('fizzy-ui-utils'),\n        require('./flickity')\n    );\n  } else {\n    // browser global\n    factory(\n        window.EvEmitter,\n        window.fizzyUIUtils,\n        window.Flickity\n    );\n  }\n\n}( window, function factory( EvEmitter, utils, Flickity ) {\n\n'use strict';\n\n// -------------------------- Player -------------------------- //\n\nfunction Player( parent ) {\n  this.parent = parent;\n  this.state = 'stopped';\n  // visibility change event handler\n  this.onVisibilityChange = this.visibilityChange.bind( this );\n  this.onVisibilityPlay = this.visibilityPlay.bind( this );\n}\n\nPlayer.prototype = Object.create( EvEmitter.prototype );\n\n// start play\nPlayer.prototype.play = function() {\n  if ( this.state == 'playing' ) {\n    return;\n  }\n  // do not play if page is hidden, start playing when page is visible\n  var isPageHidden = document.hidden;\n  if ( isPageHidden ) {\n    document.addEventListener( 'visibilitychange', this.onVisibilityPlay );\n    return;\n  }\n\n  this.state = 'playing';\n  // listen to visibility change\n  document.addEventListener( 'visibilitychange', this.onVisibilityChange );\n  // start ticking\n  this.tick();\n};\n\nPlayer.prototype.tick = function() {\n  // do not tick if not playing\n  if ( this.state != 'playing' ) {\n    return;\n  }\n\n  var time = this.parent.options.autoPlay;\n  // default to 3 seconds\n  time = typeof time == 'number' ? time : 3000;\n  var _this = this;\n  // HACK: reset ticks if stopped and started within interval\n  this.clear();\n  this.timeout = setTimeout( function() {\n    _this.parent.next( true );\n    _this.tick();\n  }, time );\n};\n\nPlayer.prototype.stop = function() {\n  this.state = 'stopped';\n  this.clear();\n  // remove visibility change event\n  document.removeEventListener( 'visibilitychange', this.onVisibilityChange );\n};\n\nPlayer.prototype.clear = function() {\n  clearTimeout( this.timeout );\n};\n\nPlayer.prototype.pause = function() {\n  if ( this.state == 'playing' ) {\n    this.state = 'paused';\n    this.clear();\n  }\n};\n\nPlayer.prototype.unpause = function() {\n  // re-start play if paused\n  if ( this.state == 'paused' ) {\n    this.play();\n  }\n};\n\n// pause if page visibility is hidden, unpause if visible\nPlayer.prototype.visibilityChange = function() {\n  var isPageHidden = document.hidden;\n  this[ isPageHidden ? 'pause' : 'unpause' ]();\n};\n\nPlayer.prototype.visibilityPlay = function() {\n  this.play();\n  document.removeEventListener( 'visibilitychange', this.onVisibilityPlay );\n};\n\n// -------------------------- Flickity -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  pauseAutoPlayOnHover: true,\n} );\n\nFlickity.createMethods.push('_createPlayer');\nvar proto = Flickity.prototype;\n\nproto._createPlayer = function() {\n  this.player = new Player( this );\n\n  this.on( 'activate', this.activatePlayer );\n  this.on( 'uiChange', this.stopPlayer );\n  this.on( 'pointerDown', this.stopPlayer );\n  this.on( 'deactivate', this.deactivatePlayer );\n};\n\nproto.activatePlayer = function() {\n  if ( !this.options.autoPlay ) {\n    return;\n  }\n  this.player.play();\n  this.element.addEventListener( 'mouseenter', this );\n};\n\n// Player API, don't hate the ... thanks I know where the door is\n\nproto.playPlayer = function() {\n  this.player.play();\n};\n\nproto.stopPlayer = function() {\n  this.player.stop();\n};\n\nproto.pausePlayer = function() {\n  this.player.pause();\n};\n\nproto.unpausePlayer = function() {\n  this.player.unpause();\n};\n\nproto.deactivatePlayer = function() {\n  this.player.stop();\n  this.element.removeEventListener( 'mouseenter', this );\n};\n\n// ----- mouseenter/leave ----- //\n\n// pause auto-play on hover\nproto.onmouseenter = function() {\n  if ( !this.options.pauseAutoPlayOnHover ) {\n    return;\n  }\n  this.player.pause();\n  this.element.addEventListener( 'mouseleave', this );\n};\n\n// resume auto-play on hover off\nproto.onmouseleave = function() {\n  this.player.unpause();\n  this.element.removeEventListener( 'mouseleave', this );\n};\n\n// -----  ----- //\n\nFlickity.Player = Player;\n\nreturn Flickity;\n\n} ) );\n","// prev/next buttons\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      './flickity',\n      'unipointer/unipointer',\n      'fizzy-ui-utils/utils',\n    ], function( Flickity, Unipointer, utils ) {\n      return factory( window, Flickity, Unipointer, utils );\n    } );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n        window,\n        require('./flickity'),\n        require('unipointer'),\n        require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    factory(\n        window,\n        window.Flickity,\n        window.Unipointer,\n        window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, Flickity, Unipointer, utils ) {\n'use strict';\n\nvar svgURI = 'http://www.w3.org/2000/svg';\n\n// -------------------------- PrevNextButton -------------------------- //\n\nfunction PrevNextButton( direction, parent ) {\n  this.direction = direction;\n  this.parent = parent;\n  this._create();\n}\n\nPrevNextButton.prototype = Object.create( Unipointer.prototype );\n\nPrevNextButton.prototype._create = function() {\n  // properties\n  this.isEnabled = true;\n  this.isPrevious = this.direction == -1;\n  var leftDirection = this.parent.options.rightToLeft ? 1 : -1;\n  this.isLeft = this.direction == leftDirection;\n\n  var element = this.element = document.createElement('button');\n  element.className = 'flickity-button flickity-prev-next-button';\n  element.className += this.isPrevious ? ' previous' : ' next';\n  // prevent button from submitting form http://stackoverflow.com/a/10836076/182183\n  element.setAttribute( 'type', 'button' );\n  // init as disabled\n  this.disable();\n\n  element.setAttribute( 'aria-label', this.isPrevious ? 'Previous' : 'Next' );\n\n  // create arrow\n  var svg = this.createSVG();\n  element.appendChild( svg );\n  // events\n  this.parent.on( 'select', this.update.bind( this ) );\n  this.on( 'pointerDown', this.parent.childUIPointerDown.bind( this.parent ) );\n};\n\nPrevNextButton.prototype.activate = function() {\n  this.bindStartEvent( this.element );\n  this.element.addEventListener( 'click', this );\n  // add to DOM\n  this.parent.element.appendChild( this.element );\n};\n\nPrevNextButton.prototype.deactivate = function() {\n  // remove from DOM\n  this.parent.element.removeChild( this.element );\n  // click events\n  this.unbindStartEvent( this.element );\n  this.element.removeEventListener( 'click', this );\n};\n\nPrevNextButton.prototype.createSVG = function() {\n  var svg = document.createElementNS( svgURI, 'svg' );\n  svg.setAttribute( 'class', 'flickity-button-icon' );\n  svg.setAttribute( 'viewBox', '0 0 100 100' );\n  var path = document.createElementNS( svgURI, 'path' );\n  var pathMovements = getArrowMovements( this.parent.options.arrowShape );\n  path.setAttribute( 'd', pathMovements );\n  path.setAttribute( 'class', 'arrow' );\n  // rotate arrow\n  if ( !this.isLeft ) {\n    path.setAttribute( 'transform', 'translate(100, 100) rotate(180) ' );\n  }\n  svg.appendChild( path );\n  return svg;\n};\n\n// get SVG path movmement\nfunction getArrowMovements( shape ) {\n  // use shape as movement if string\n  if ( typeof shape == 'string' ) {\n    return shape;\n  }\n  // create movement string\n  return 'M ' + shape.x0 + ',50' +\n    ' L ' + shape.x1 + ',' + ( shape.y1 + 50 ) +\n    ' L ' + shape.x2 + ',' + ( shape.y2 + 50 ) +\n    ' L ' + shape.x3 + ',50 ' +\n    ' L ' + shape.x2 + ',' + ( 50 - shape.y2 ) +\n    ' L ' + shape.x1 + ',' + ( 50 - shape.y1 ) +\n    ' Z';\n}\n\nPrevNextButton.prototype.handleEvent = utils.handleEvent;\n\nPrevNextButton.prototype.onclick = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.parent.uiChange();\n  var method = this.isPrevious ? 'previous' : 'next';\n  this.parent[ method ]();\n};\n\n// -----  ----- //\n\nPrevNextButton.prototype.enable = function() {\n  if ( this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = false;\n  this.isEnabled = true;\n};\n\nPrevNextButton.prototype.disable = function() {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this.element.disabled = true;\n  this.isEnabled = false;\n};\n\nPrevNextButton.prototype.update = function() {\n  // index of first or last slide, if previous or next\n  var slides = this.parent.slides;\n  // enable is wrapAround and at least 2 slides\n  if ( this.parent.options.wrapAround && slides.length > 1 ) {\n    this.enable();\n    return;\n  }\n  var lastIndex = slides.length ? slides.length - 1 : 0;\n  var boundIndex = this.isPrevious ? 0 : lastIndex;\n  var method = this.parent.selectedIndex == boundIndex ? 'disable' : 'enable';\n  this[ method ]();\n};\n\nPrevNextButton.prototype.destroy = function() {\n  this.deactivate();\n  this.allOff();\n};\n\n// -------------------------- Flickity prototype -------------------------- //\n\nutils.extend( Flickity.defaults, {\n  prevNextButtons: true,\n  arrowShape: {\n    x0: 10,\n    x1: 60, y1: 50,\n    x2: 70, y2: 40,\n    x3: 30,\n  },\n} );\n\nFlickity.createMethods.push('_createPrevNextButtons');\nvar proto = Flickity.prototype;\n\nproto._createPrevNextButtons = function() {\n  if ( !this.options.prevNextButtons ) {\n    return;\n  }\n\n  this.prevButton = new PrevNextButton( -1, this );\n  this.nextButton = new PrevNextButton( 1, this );\n\n  this.on( 'activate', this.activatePrevNextButtons );\n};\n\nproto.activatePrevNextButtons = function() {\n  this.prevButton.activate();\n  this.nextButton.activate();\n  this.on( 'deactivate', this.deactivatePrevNextButtons );\n};\n\nproto.deactivatePrevNextButtons = function() {\n  this.prevButton.deactivate();\n  this.nextButton.deactivate();\n  this.off( 'deactivate', this.deactivatePrevNextButtons );\n};\n\n// --------------------------  -------------------------- //\n\nFlickity.PrevNextButton = PrevNextButton;\n\nreturn Flickity;\n\n} ) );\n","// slide\n( function( window, factory ) {\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Flickity = window.Flickity || {};\n    window.Flickity.Slide = factory();\n  }\n\n}( window, function factory() {\n'use strict';\n\nfunction Slide( parent ) {\n  this.parent = parent;\n  this.isOriginLeft = parent.originSide == 'left';\n  this.cells = [];\n  this.outerWidth = 0;\n  this.height = 0;\n}\n\nvar proto = Slide.prototype;\n\nproto.addCell = function( cell ) {\n  this.cells.push( cell );\n  this.outerWidth += cell.size.outerWidth;\n  this.height = Math.max( cell.size.outerHeight, this.height );\n  // first cell stuff\n  if ( this.cells.length == 1 ) {\n    this.x = cell.x; // x comes from first cell\n    var beginMargin = this.isOriginLeft ? 'marginLeft' : 'marginRight';\n    this.firstMargin = cell.size[ beginMargin ];\n  }\n};\n\nproto.updateTarget = function() {\n  var endMargin = this.isOriginLeft ? 'marginRight' : 'marginLeft';\n  var lastCell = this.getLastCell();\n  var lastMargin = lastCell ? lastCell.size[ endMargin ] : 0;\n  var slideWidth = this.outerWidth - ( this.firstMargin + lastMargin );\n  this.target = this.x + this.firstMargin + slideWidth * this.parent.cellAlign;\n};\n\nproto.getLastCell = function() {\n  return this.cells[ this.cells.length - 1 ];\n};\n\nproto.select = function() {\n  this.cells.forEach( function( cell ) {\n    cell.select();\n  } );\n};\n\nproto.unselect = function() {\n  this.cells.forEach( function( cell ) {\n    cell.unselect();\n  } );\n};\n\nproto.getCellElements = function() {\n  return this.cells.map( function( cell ) {\n    return cell.element;\n  } );\n};\n\nreturn Slide;\n\n} ) );\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n/**\n * A local reference to the root document.\n */\nvar document = (function(startDoc) {\n  var doc = startDoc;\n  var frame = getFrameElement(doc);\n  while (frame) {\n    doc = frame.ownerDocument;\n    frame = getFrameElement(doc);\n  }\n  return doc;\n})(window.document);\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (\n    options.root &&\n    options.root.nodeType != 1 &&\n    options.root.nodeType != 9\n  ) {\n    throw new Error('root must be a Document or Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var rootBounds = null;\n    if (!this._rootContainsTarget(target)) {\n      rootBounds = getEmptyRect();\n    } else if (!crossOriginUpdater || this.root) {\n      rootBounds = rootRect;\n    }\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootBounds,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root && !isDoc(this.root)) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var doc = isDoc(this.root) ? this.root : document;\n    var html = doc.documentElement;\n    var body = doc.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  return (\n    containsDeep(rootDoc, target) &&\n    (!this.root || rootDoc == target.ownerDocument)\n  );\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detachEvent == 'function') {\n    node.detachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  // If the parent has element that is assigned through shadow root slot\n  if (parent && parent.assignedSlot) {\n    parent = parent.assignedSlot.parentNode\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  return parent;\n}\n\n/**\n * Returns true if `node` is a Document.\n * @param {!Node} node\n * @returns {boolean}\n */\nfunction isDoc(node) {\n  return node && node.nodeType === 9;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","/*!\n * Unidragger v2.4.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  // Safari 9 overrides pageX and pageY. These values needs to be copied. flickity#842\n  this.pointerDownPointer = {\n    pageX: pointer.pageX,\n    pageY: pointer.pageY,\n  };\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","/*!\n * Unipointer v2.4.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( 'ontouchstart' in window ) {\n    // HACK prefer Touch Events as you can preventDefault on touchstart to\n    // disable scroll in iOS & mobile Chrome metafizzy/flickity#1177\n    startEvent = 'touchstart';\n  } else if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(475);\n"],"names":["window","factory","matchesMethod","ElemProto","prefixes","i","prefix","method","elem","selector","expose","fns","using","fnName","args","fn","fnArgs","func","findTarget","element","attribute","target","toggleElementVisibility","isOpen","focusableChildren","el","focusInto","hasOpenOrActiveItems","cname","html","classCache","scrollbarWidth","scrollPos","togglableElements","setDocumentPadding","triggerToggle","event","state","self","handleClickEvents","dataset","tmpTarget","handleKeyEvents","code","source","key","defaultConverter","value","converter","defaultAttributes","set","name","attributes","stringifiedAttributes","attributeName","get","cookies","jar","parts","found","e","api","delay","globalData","hidePopIn","parent","showPopIn","closePopIn","popIn","close","getFontSize","adjust","multiplier","initialSize","availableWidth","overflowWidth","adjustedSize","fluidText","elements","resizing","DISMISSED_KEY","dismissSelector","closeButton","header","previousKnown","maybeStick","position","lastKnown","ticking","handleScrollEvents","pageHeader","menuToggle","mobileMenu","subMenus","setupFocusTrap","lastMenuItem","menuItemClassList","previousFocus","closestMenuItemToPrevious","closeSubMenus","exclude","sub","handleKeyboardEvents","maybeCloseMobileMenu","shiftKey","closeMenuEvent","selects","isEscape","isSpace","isEnter","isTab","isArrowUp","isArrowDown","isArrowLeft","isArrowRight","metaKey","ctrlKey","altKey","TYPE_TIME","timer","keys","focused","groupSelector","textFilter","options","searchSelect","matches","currentIndex","nextIndex","toBeSelected","stringMatch","exactMatches","option","firstChar","groupCache","siblingGroupsCache","groupsItemsCache","closeGroup","group","button","closeGroups","toggleGroup","search","o","term","fireChangeEvent","input","data","keyboard","url","handleMouseEvents","children","siblings","child","sibling","groups","items","isObject","queryStringToObject","string","object","keypair","objectToQueryString","prop","val","inputsToObject","inputs","request","arrName","merge","handleFilterSubmit","formTarget","queryString","params","latestFilters","form","getFormInputData","formData","entry","xor","searchForm","searchInput","searchInputButton","defaultFilters","advancedFilters","applyFiltersButton","initialFormData","handleSubmitEvents","action","actionData","qsa","urlArgs","targetUrl","values","initial","handleChangeEvents","handleKeyupEvents","setupSearch","searchFilters","manipulateQueryParameters","urlParts","base","queryParams","prev","obj","handleDropdownChange","dropdown","handleVideoLoaded","videos","video","embed","wrapper","shareBase","handleTweetAction","content","fullUrl","blocks","block","setUpSliders","container","slider","selectedIndex","selectedSlide","isRightToLeft","nextButton","prevButton","flcktyInstance","flickityIsActive","checkButtons","index","postCategories","debounce","createArrowButton","modifier","handleSlideArrowNavigationEvents","prevArrow","nextArrow","firstSlide","lastSlide","handleClicks","createSlider","slides","isToggle","isOverlay","slidesInstance","lastSlideInSlider","numberOfSlides","slideNo","sliderNavigation","slideNavContainer","arrowsVisible","hideArrows","showArrows","workoutArrows","instance","prevNavArrow","nextNavArrow","navigationSlider","isInteger","toRawNumber","trimmed","toFormattedString","currentLocale","countUp","end","duration","observerObj","current","progress","startTime","step","timestamp","observer","entries","elems","showCorrectList","letter","lists","activeLetter","list","display","handleBlockClickEvents","nodeName","buttons","item","MINUTE","HOUR","DAY","getTimeRemaining","date","total","seconds","minutes","hours","days","pad","clockTemplate","dayPlural","renderClock","endTime","expiredtext","endTimes","navItems","navItem","browserDetector","isFirefox","isSafari","isIE","isEdge","isChrome","body","authorBioToggle","buttonElement","textContainer","removeClass","toggle","handleStaticClick","pointer","cellElement","cellIndex","viewport","handleChange","tabContent","currentTabId","urlHash","initiallySelectedSlide","setupFormControl","choices","download","path","href","classList","counter","countdownTimer","Expose","global","EvEmitter","proto","eventName","listener","events","listeners","onceEvents","onceListeners","isOnce","___EXPOSE_LOADER_IMPORT___","___EXPOSE_LOADER_GET_GLOBAL_THIS___","___EXPOSE_LOADER_GLOBAL_THIS___","module","g","matchesSelector","utils","a","b","num","div","arraySlice","isArrayLike","ary","ffElems","childElems","_class","methodName","threshold","timeoutName","timeout","_this","callback","readyState","str","match","$1","$2","console","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","dataOptionsAttr","jQuery","attr","error","Flickity","asNavForOption","companion","isInstant","selectedCell","firstIndex","lastIndex","selectIndex","lerp","selectedCells","cell","t","navElem","getCellsFragment","cells","fragment","len","isAppend","insertCellElement","endCells","minCellIndex","changedCellIndex","isPositioningSlider","prevSelectedElem","previousX","x","is3d","translateX","positionX","isResting","beforeGap","afterGap","gap","shift","cellShift","force","dragVelocity","dragForce","dragDown","distance","getSize","Cell","side","marginProperty","sideOffset","adjustedX","Unidragger","isOkay","getScrollPosition","focusNodes","isFocusNode","isTouchStart","isTouchPointer","moveVector","direction","dragX","originBound","endBound","restingX","positiveResting","negativeResting","increment","minDistance","condition","dist","minDist","isWrapAround","slideIndex","slide","wrap","delta","clickedCell","cellElem","scroll","scrollMoveX","scrollMoveY","Slide","animatePrototype","getComputedStyle","moveElements","toElem","GUID","instances","queryElement","id","opts","cellElems","cellX","startCell","isOriginLeft","nextMargin","canCellFit","slideWidth","groupCells","number","percentMatch","percent","cellAlignShorthands","shorthand","height","gapX","beginMargin","endMargin","contentWidth","isContentSmaller","beginBound","type","emitArgs","$event","jQEvent","isWrap","prevIndex","isWrapping","wrapIndex","backWrapDelta","forewardWrapDelta","initialIndex","adjCount","selectedElement","watchOption","afterContent","isNotFocused","handler","leftMethod","rightMethod","prevScrollY","jq","lazyLoad","lazyImages","lazyCellImages","getCellLazyImages","img","LazyLoader","lazyloadAttr","srcAttr","srcsetAttr","lazySelector","imgs","flickity","src","srcset","className","Unipointer","PageDots","count","newDots","length","max","dot","removeDots","Player","isPageHidden","time","svgURI","PrevNextButton","leftDirection","svg","pathMovements","getArrowMovements","shape","boundIndex","lastCell","lastMargin","getStyleSize","isValid","noop","logError","message","measurements","measurementsLength","getZeroSize","size","measurement","getStyle","style","isSetup","isBoxSizeOuter","setup","isBorderBox","paddingWidth","paddingHeight","marginWidth","marginHeight","borderWidth","borderHeight","isBorderBoxSizeOuter","styleWidth","styleHeight","getFrameElement","doc","document","startDoc","frame","registry","crossOriginUpdater","crossOriginRect","IntersectionObserverEntry","ensureDOMRect","getEmptyRect","targetRect","targetArea","intersectionRect","intersectionArea","IntersectionObserver","opt_options","throttle","margin","boundingClientRect","convertFromParentRect","isTargetAlreadyObserved","records","opt_threshold","opt_rootMargin","marginString","margins","win","monitoringInterval","domObserver","addEvent","removeEvent","rootDoc","hasDependentTargets","itemDoc","unsubscribe","unsubscribes","rootIsInDom","rootRect","getBoundingClientRect","rootContainsTarget","oldEntry","rootBounds","newEntry","now","getParentNode","atRoot","parentRect","parentComputedStyle","frameRect","frameIntersect","computeRectIntersection","isDoc","rect","newRect","oldRatio","newRatio","containsDeep","node","opt_useCapture","rect1","rect2","top","bottom","left","right","width","err","parentBoundingRect","parentIntersectionRect","isAdd","bindMethod","touchAction","handle","cursorNodes","clickTypes","isCursorNode","isClickType","canBlur","startEvent","touches","touch","postStartEvents","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","exports","definition","__webpack_exports__"],"sourceRoot":""}