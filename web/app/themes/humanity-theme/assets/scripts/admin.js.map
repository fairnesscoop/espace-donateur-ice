{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://humanity-theme/./src/scripts/admin/cmb-events.js","webpack://humanity-theme/./src/scripts/admin/cmb-term-type.js","webpack://humanity-theme/./src/scripts/admin/options-general.js","webpack://humanity-theme/./src/scripts/admin/ordered-list-preview.js","webpack://humanity-theme/webpack/bootstrap","webpack://humanity-theme/webpack/runtime/compat get default export","webpack://humanity-theme/webpack/runtime/define property getters","webpack://humanity-theme/webpack/runtime/hasOwnProperty shorthand"],"sourcesContent":["const { isFunction } = lodash;\nconst { applyFilters } = wp.hooks;\n\nlet globalChangeEvent;\n\n/**\n * Find a parent element, optionally by selector\n *\n * @param {Node} $node the origin node\n * @param {string} selector selector to optionally traverse for\n *\n * @return {Node|null} the found parent\n */\nconst parent = ($node, selector = '') => {\n  let elem = $node.parentElement;\n\n  if (!selector) {\n    return elem;\n  }\n\n  while (elem != null) {\n    if (elem.matches(selector)) {\n      return elem;\n    }\n\n    elem = elem.parentElement;\n  }\n\n  return null;\n};\n\n/**\n * Handle all change events on the form\n *\n * @param {Event} event the current event\n * @param {Node} $form the form element\n * @param {array} $groups field group elements\n *\n * @returns {Event}\n */\nconst handleChangeEvents = (event, $form) => {\n  const { target } = event;\n  const name = target.name.replace(/^.*\\[([^\\]]+)\\]$/, '$1');\n\n  $form.removeEventListener('change', globalChangeEvent);\n\n  const cb = applyFilters(`amnesty.cmb2.change.${name}`, null, event, $form);\n\n  if (isFunction(cb)) {\n    cb(event, $form);\n  }\n\n  $form.addEventListener('change', globalChangeEvent);\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const $cmb2table = document.querySelector('form .cmb2-wrap.form-table');\n\n  if (!$cmb2table) {\n    return;\n  }\n\n  const $form = parent($cmb2table, 'form');\n\n  if (!$form) {\n    return;\n  }\n\n  globalChangeEvent = (e) => handleChangeEvents(e, $form);\n  $form.addEventListener('change', globalChangeEvent);\n});\n","const { addFilter } = wp.hooks;\n\naddFilter('amnesty.cmb2.change.type', 'amnesty/cmb2', () => (event, $form) => {\n  const type = event.target.value;\n\n  const $groups = Array.from($form.querySelectorAll('.cmb-type-group[data-show-on=\"type\"]'));\n  if ($groups.length) {\n    $groups.forEach(($group) => {\n      $group.classList.add('closed');\n      $group.classList.add('is-hidden');\n\n      const { showIf, showNot } = $group.dataset;\n      if (!showIf && !showNot) {\n        return;\n      }\n\n      if (showIf === type || (showNot && showNot !== type)) {\n        $group.classList.remove('is-hidden');\n        $group.classList.remove('closed');\n      }\n    });\n  }\n\n  const $fields = Array.from($form.querySelectorAll('.cmb-row[data-show-on=\"type\"]'));\n  if ($fields.length) {\n    $fields.forEach(($field) => {\n      $field.classList.add('is-hidden');\n\n      const { showIf, showNot } = $field.dataset;\n      if (!showIf && !showNot) {\n        return;\n      }\n\n      if (showIf === type || (showNot && showNot !== type)) {\n        $field.classList.remove('is-hidden');\n      }\n    });\n  }\n});\n","const settingsGeneral = () => {\n  const wplang = document.getElementById('WPLANG')?.parentElement?.parentElement;\n  const language = document.getElementById('amnesty-language-name')?.parentElement?.parentElement;\n\n  if (!wplang || !language) {\n    return;\n  }\n\n  wplang.insertAdjacentElement('beforeBegin', language);\n};\n\ndocument.addEventListener('DOMContentLoaded', settingsGeneral);\n","const localiseOl = () => {\n  const previewOrderedListTag = document.createElement('ol');\n  const createPreviewTextTag = document.createElement('p');\n  const localeDropdown = document.getElementById('ol_locale_option');\n\n  if (!localeDropdown) {\n    return;\n  }\n\n  localeDropdown.onchange = (e) => {\n    previewOrderedListTag.style.listStyleType = e.target.value;\n  };\n\n  const localisationSelection = document.querySelector('.cmb2-id-ol-locale-option');\n\n  if (localisationSelection) {\n    localisationSelection.appendChild(createPreviewTextTag);\n    const addPreviewText = document.createTextNode('Preview:');\n    createPreviewTextTag.appendChild(addPreviewText);\n\n    localisationSelection.appendChild(previewOrderedListTag);\n\n    for (let i = 0; i < 5; i += 1) {\n      const previewListItems = document.createElement('li');\n      const previewTextContent = document.createTextNode('');\n      previewListItems.appendChild(previewTextContent);\n      previewOrderedListTag.appendChild(previewListItems);\n    }\n  }\n};\n\nlocaliseOl();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))"],"names":["isFunction","applyFilters","globalChangeEvent","parent","$node","selector","elem","handleChangeEvents","event","$form","target","name","cb","$cmb2table","e","addFilter","type","$groups","$group","showIf","showNot","$fields","$field","settingsGeneral","wplang","language","previewOrderedListTag","createPreviewTextTag","localeDropdown","localisationSelection","addPreviewText","i","previewListItems","previewTextContent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","getter","exports","definition","key","obj","prop"],"sourceRoot":""}